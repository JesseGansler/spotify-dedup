!function(n){var e={};function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(o,i,function(e){return n[e]}.bind(null,i));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=3)}([function(n,e,t){"use strict";const o="localhost:8005"===location.host?"http://localhost:8005/callback.html":"https://jmperezperez.com/spotify-dedup/callback.html",i=/http[s]?:\/\/[^/]+/.exec(o)[0];e.a={clientId:"04dca0de1c4e4aca88cc615ac23581be",redirectUri:o,host:i}},function(n,e,t){var o={},i=function(n){var e;return function(){return void 0===e&&(e=n.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(n){var e={};return function(n){if("function"==typeof n)return n();if(void 0===e[n]){var t=function(n){return document.querySelector(n)}.call(this,n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}}(),a=null,s=0,l=[],c=t(10);function p(n,e){for(var t=0;t<n.length;t++){var i=n[t],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(g(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function d(n,e){for(var t=[],o={},i=0;i<n.length;i++){var r=n[i],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):t.push(o[a]={id:a,parts:[s]})}return t}function u(n,e){var t=r(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===n.insertAt)o?o.nextSibling?t.insertBefore(e,o.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),l.push(e);else if("bottom"===n.insertAt)t.appendChild(e);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(n.insertInto+" "+n.insertAt.before);t.insertBefore(e,i)}}function f(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=l.indexOf(n);e>=0&&l.splice(e,1)}function h(n){var e=document.createElement("style");return void 0===n.attrs.type&&(n.attrs.type="text/css"),m(e,n.attrs),u(n,e),e}function m(n,e){Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])})}function g(n,e){var t,o,i,r;if(e.transform&&n.css){if(!(r=e.transform(n.css)))return function(){};n.css=r}if(e.singleton){var l=s++;t=a||(a=h(e)),o=y.bind(null,t,l,!1),i=y.bind(null,t,l,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(n){var e=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",m(e,n.attrs),u(n,e),e}(e),o=function(n,e,t){var o=t.css,i=t.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=c(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=n.href;n.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,t,e),i=function(){f(t),t.href&&URL.revokeObjectURL(t.href)}):(t=h(e),o=function(n,e){var t=e.css,o=e.media;o&&n.setAttribute("media",o);if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){f(t)});return o(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;o(n=e)}else i()}}n.exports=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var t=d(n,e);return p(t,e),function(n){for(var i=[],r=0;r<t.length;r++){var a=t[r];(s=o[a.id]).refs--,i.push(s)}n&&p(d(n,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function y(n,e,t,o){var i=t?"":o.css;if(n.styleSheet)n.styleSheet.cssText=b(e,i);else{var r=document.createTextNode(i),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(r,a[e]):n.appendChild(r)}}},function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",o=n[3];if(!o)return t;if(e&&"function"==typeof btoa){var i=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(o),r=o.sources.map(function(n){return"/*# sourceURL="+o.sourceRoot+n+" */"});return[t].concat(r).concat([i]).join("\n")}return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<n.length;i++){var a=n[i];"number"==typeof a[0]&&o[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),e.push(a))}},e}},function(n,e,t){"use strict";t.r(e);t(13);var o=t(0);var i={obtainToken:function(n={}){return new Promise((e,t)=>{let i=null,r=null;window.addEventListener("message",function n(a){clearInterval(r),a.origin===o.a.host?(null!==i&&(i.close(),i=null),window.removeEventListener("message",n,!1),e(a.data)):t()},!1);const a=screen.width/2-200,s=screen.height/2-300,l={client_id:o.a.clientId,redirect_uri:o.a.redirectUri,response_type:"token"};n.scopes&&(l.scope=n.scopes.join(" ")),i=window.open(`https://accounts.spotify.com/authorize?${function(n){const e=[];for(const t in n)n.hasOwnProperty(t)&&e.push(`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`);return e.join("&")}(l)}`,"Spotify",`menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=400, height=600, top=${s}, left=${a}`),r=setInterval(()=>{null!==i&&i.closed&&(clearInterval(r),t({message:"access_denied"}))},1e3)})}};const r=1e3,a=[];let s=!1;async function l(){if(console.log("tryToExecute"),!s&&a.length>0){s=!0;const n=a.shift();!async function n({promise:e,resolve:t,reject:o,url:i,options:a,retries:s}){console.log("execute");try{let l=await fetch(i,a),c=l.status<400;console.log("got status "+l.status+" with retries "+s),c?t(l):--s>0?setTimeout(()=>{n({promise:e,resolve:t,reject:o,url:i,options:a,retries:s})},r+2e3*Math.random()):o(l)}catch(c){--s>0?setTimeout(()=>{n({promise:e,resolve:t,reject:o,url:i,options:a,retries:s})},r+2e3*Math.random()):o(l)}}({promise:n.promise,resolve:n.resolve,reject:n.reject,url:n.url,options:n.options,retries:n.retries})}}var c=async function(n,e){console.log("customFetch",{url:n,options:e});const t=new Promise((t,o)=>{a.push({promise:null,resolve:t,reject:o,url:n,options:e,retries:3})});return l(),t.then(n=>{s=!1,l()}),t};async function p(n,e,t){async function o(n,e,o){return t.getGeneric(`${function(n){return-1!==n.indexOf("?")?n.substr(0,n.indexOf("?")):n}(n.href)}?offset=${e}&limit=${o}`)}const i=await n;if(null===i)return[];const r=[()=>n];let a=i.limit+i.offset;const s=i.limit;for(;i.total>a;)!function(n,e,t){console.log(e,t);r.push(()=>o(n,e,t))}(i,a,s),a+=s;return r.reduce((n,e)=>n.then(n=>e().then(Array.prototype.concat.bind(n))),Promise.resolve([]))}class d{constructor(n,e){this.api=n,this.promiseThrottle=e}async removeDuplicates(n){throw"Not implemented"}async getTracks(){throw"Not implemented"}findDuplicatedTracks(n){const e={},t={};return n.reduce((n,o,i)=>{if(null===o)return n;if(null===o.id)return n;let r=!1;const a=`${o.name}:${o.artists[0].name}`;return o.id in e?r=!0:a in t&&Math.abs(t[a]-o.duration_ms)<2e3&&(r=!0),r?n.push({index:i,track:o,reason:o.id in e?"same-id":"same-name-artist"}):(e[o.id]=!0,t[a]=o.duration_ms),n},[])}}class u extends d{constructor(n,e){super(n,e)}async getTracks(n){return new Promise((e,t)=>{const o=[];p(this.api.getGeneric(n.tracks.href),this.promiseThrottle,this.api).then(n=>Promise.all(n)).then(n=>{n.forEach(n=>{n.items.forEach((n,e)=>{o.push(n.track)})}),e(o)}).catch(t)})}async removeDuplicates(n){return new Promise((e,t)=>{if("starred"===n.playlist.id&&t("It is not possible to delete duplicates from your Starred playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually."),n.playlist.collaborative)t("It is not possible to delete duplicates from a collaborative playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually.");else{const t=n.duplicates.map(n=>({uri:n.track.linked_from?n.track.linked_from.uri:n.track.uri,positions:[n.index]})).reverse(),o=[];do{const e=t.splice(0,100);!function(n,e,t){o.push(()=>t.removeTracksFromPlaylist(n.playlist.owner.id,n.playlist.id,e))}(n,e,this.api)}while(t.length>0);o.reduce((n,e)=>n.then(()=>e()),Promise.resolve(null)).then(()=>{n.duplicates.duplicates=[],e()})}})}}class f extends d{constructor(n,e){super(n,e)}async getTracks(n){return new Promise((e,t)=>{const o=[];p(n,this.promiseThrottle,this.api).then(n=>Promise.all(n)).then(n=>{n.forEach(n=>{n.items.forEach((n,e)=>{o.push(n.track)})}),e(o)}).catch(t)})}async removeDuplicates(n){return new Promise((e,t)=>{const o=n.duplicates.map(n=>n.track.linked_from?n.track.linked_from.id:n.track.id);do{(async()=>{const n=o.splice(0,50);await this.api.removeFromMySavedTracks(n)})()}while(o.length>0);n.duplicates=[],e()})}}t(12),t(9),t(5);const h=[400,401,404,429,500,502,503,504];const m=new class{needsCheckForDuplicates(n){if("snapshot_id"in n)try{if("0"===localStorage.getItem(n.snapshot_id))return!1}catch(n){return!0}return!0}storePlaylistWithoutDuplicates(n){if("snapshot_id"in n)try{localStorage.setItem(n.snapshot_id,"0")}catch(n){}}},g="https://api.spotify.com/v1";class b{constructor(){this.token=null}setAccessToken(n){this.token=n}async getMe(){return await this.getGeneric(`${g}/me`)}async getGeneric(n,e){const t=void 0===e?"":`?${Object.keys(e).map(n=>`${n}=${e[n]}`).join("&")}`,o=await c(`${n}${t}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`},retryOn:h}),i=await o.json();return o.ok?i:null}async getUserPlaylists(n,e){const t="string"==typeof n?`${g}/users/${encodeURIComponent(n)}/playlists`:`${g}/me/playlists`;return await this.getGeneric(t,e)}async removeTracksFromPlaylist(n,e,t){const o={tracks:t.map(n=>"string"==typeof n?{uri:n}:n)},i=await c(`${g}/users/${encodeURIComponent(n)}/playlists/${e}/tracks`,{method:"DELETE",headers:{Authorization:`Bearer ${this.token}`},body:JSON.stringify(o),retryOn:h}),r=await i.json();return i.ok?r:(window.Raven&&Raven.captureMessage(`Status ${i.status} when deleting tracks from playlist`,{extra:{json:r}}),null)}async getMySavedTracks(n){return this.getGeneric(`${g}/me/tracks`,n)}async removeFromMySavedTracks(n){return!!(await c(`${g}/me/tracks`,{method:"DELETE",headers:{Authorization:`Bearer ${this.token}`},body:JSON.stringify(n),retryOn:h})).ok}}const y=function(){let n,e,t,o=new Vue({el:"#app",data:{isLoggedIn:!1,toProcess:100,playlists:[],savedTracks:{duplicates:[],status:""}},methods:{removeDuplicates:e=>(async()=>{if("starred"===e.playlist.id&&window.alert("It is not possible to delete duplicates from your Starred playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually."),e.playlist.collaborative)window.alert("It is not possible to delete duplicates from a collaborative playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually.");else{await n.removeDuplicates(e);e.duplicates=[],e.status="Duplicates removed",window.ga&&ga("send","event","spotify-dedup","playlist-removed-duplicates")}})(),removeDuplicatesInSavedTracks:()=>(async()=>{await e.removeDuplicates(o.savedTracks);o.savedTracks.duplicates=[],o.savedTracks.status="Duplicates removed",window.ga&&ga("send","event","spotify-dedup","saved-tracks-removed-duplicates")})()},computed:{duplicates:function(){return this.playlists.reduce((n,e)=>n+e.duplicates.length,0)+this.savedTracks.duplicates.length}}});document.getElementById("login").addEventListener("click",function(){i.obtainToken({scopes:["playlist-read-private","playlist-read-collaborative","playlist-modify-public","playlist-modify-private","user-library-read","user-library-modify"]}).then(function(i){!function(i){o.isLoggedIn=!0,(t=new b).setAccessToken(i),n=new u(t),e=new f(t);let a=0;const s=()=>t.getMe().then(i=>{null===i?(a++,window.Raven&&Raven.captureMessage("Retrying logging user in",{extra:{attempts:a}}),s()):(async()=>{await async function(i){var a=i.id,s=[];const l=await function(n){return async function(n){function e(n,e,o){return t.getGeneric(function(n){var e=new URL(n);return e.origin+e.pathname}(n.href)+"?offset="+e+"&limit="+o)}console.log("promisesForPages!"),console.log(n);const o=await n;if(console.log("got initial request",o),null===o)return[];const i=[()=>n];let r=o.limit+o.offset;const a=o.limit;for(;o.total>r;)!function(n,t,o){i.push(()=>e(n,t,o))}(o,r,a),r+=a;return console.log(i[0]()),i.reduce((n,e)=>n.then(n=>(console.log("executing",e),e().then(Array.prototype.concat.bind(n)))),Promise.resolve([]))}(t.getUserPlaylists(n,{limit:50})).then(function(e){var t=[];return e.forEach(function(e){t=t.concat(e.items.filter(function(e){return e.owner.id===n}))}),t})}(a);s=l,o.playlists=s.map(n=>r(n)),o.toProcess=o.playlists.length+1;const c=await e.getTracks(t.getMySavedTracks({limit:50}));o.savedTracks.duplicates=e.findDuplicatedTracks(c),o.savedTracks.duplicates.length&&window.ga&&ga("send","event","spotify-dedup","saved-tracks-found-duplicates");o.toProcess--,o.playlists.forEach(e=>(async()=>{if(m.needsCheckForDuplicates(e.playlist)){const t=await n.getTracks(e.playlist);e.duplicates=n.findDuplicatedTracks(t),0===e.duplicates.length&&m.storePlaylistWithoutDuplicates(e.playlist)}!function(n){n.processed=!0;var e=o.toProcess-1;o.toProcess-=1,0===e&&window.ga&&ga("send","event","spotify-dedup","library-processed")}(e.playlist)})())}(i)})()});s()}(i)}).catch(function(n){console.error(n)});const r=n=>({playlist:n,duplicates:[],status:"",processed:!1})})};window.Raven&&Raven.config("https://22cbac299caf4962b74de18bc87a8d74@sentry.io/1239123").install(),window.Raven?Raven.context(y):y()},,function(n,e,t){n.exports=t.p+"favicon.ico"},function(n,e,t){n.exports=t.p+"placeholder.png"},function(n,e){n.exports=function(n){return"string"!=typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),/["'() \t\n]/.test(n)?'"'+n.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':n)}},function(n,e,t){var o=t(7);(n.exports=t(2)(!1)).push([n.i,".browsehappy {\n  margin: 0.2em 0;\n  background: #ccc;\n  color: #000;\n  padding: 0.2em 0;\n}\n\n/* Everything but the jumbotron gets side spacing for mobile first views */\n.header,\n.marketing,\n.footer {\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n/* Custom page header */\n.header {\n  border-bottom: 1px solid #e5e5e5;\n}\n\n/* Make the masthead heading the same height as the navigation */\n.header h3 {\n  margin-top: 0;\n  margin-bottom: 0;\n  line-height: 40px;\n  padding-bottom: 19px;\n}\n\n/* Custom page footer */\n.footer {\n  padding-top: 19px;\n  color: #777;\n  border-top: 1px solid #e5e5e5;\n}\n\n/* Main marketing message and sign up button */\n.jumbotron {\n  text-align: center;\n  border-bottom: 1px solid #e5e5e5;\n}\n\n.jumbotron .btn {\n  font-size: 21px;\n  padding: 14px 24px;\n}\n\n/* Supporting marketing content */\n.marketing {\n  margin: 40px 0;\n}\n\n/* Responsive: Portrait tablets and up */\n@media screen and (min-width: 768px) {\n  .container {\n    max-width: 730px;\n  }\n\n  /* Remove the padding we set earlier */\n  .header,\n  .marketing,\n  .footer {\n    padding-left: 0;\n    padding-right: 0;\n  }\n\n  /* Space out the masthead */\n  .header {\n    margin-bottom: 30px;\n  }\n\n  /* Remove the bottom border on the jumbotron for visual effect */\n  .jumbotron {\n    border-bottom: 0;\n  }\n}\n\n.footer {\n  text-align: center;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\n.h1,\n.h2,\n.h3,\n.h4,\n.h5,\n.h6 {\n  font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: 800;\n}\n\n.jumbotron {\n  background-color: transparent;\n}\n\n.playlists-list {\n  list-style: none;\n  padding: 0;\n}\n\n.playlists-list-item {\n  margin-bottom: 2rem;\n}\n\n.playlists-list-item__img {\n  width: 100px;\n}\n\n.playlists-list-item__placeholder {\n  background-image: url("+o(t(6))+");\n  background-size: cover;\n  height: 100px;\n  width: 100px;\n}\n\n.playlists-list-item__name {\n  display: block;\n  font-weight: bold;\n  max-width: 50%;\n}\n\n.playlist-list-item__btn {\n  max-width: 50%;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n@media (max-width: 700px) {\n  .playlists-list-item__name {\n    max-width: 100%;\n  }\n  .playlist-list-item__btn {\n    position: relative;\n    max-width: 100%;\n  }\n}\n\n.playlist-list-item__btn:hover {\n  cursor: pointer;\n}\n\n.btn-primary.playlist-list-item__btn:hover {\n  background-color: #69a3d3;\n}\n\n.gray {\n  color: #999;\n}\n\n.duplicates {\n  margin-top: 1rem;\n  padding: 0;\n}\n\n.bd {\n  position: relative;\n}\n\n.media,\n.bd {\n  overflow: hidden;\n  _overflow: visible;\n  zoom: 1;\n}\n.media .img {\n  float: left;\n  margin-right: 20px;\n}\n\n@media (max-width: 500px) {\n  .media .img {\n    float: none;\n  }\n}\n\n.media .img {\n  display: block;\n}\n",""])},function(n,e,t){var o=t(8);"string"==typeof o&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(1)(o,i);o.locals&&(n.exports=o.locals)},function(n,e){n.exports=function(n){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=e.protocol+"//"+e.host,o=t+e.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,e){var i,r=e.trim().replace(/^"(.*)"$/,function(n,e){return e}).replace(/^'(.*)'$/,function(n,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?n:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?t+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(n,e,t){(n.exports=t(2)(!1)).push([n.i,"html {\n  font-family: sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n}\nbody {\n  margin: 0;\n}\na {\n  background: 0 0;\n}\nh1 {\n  margin: 0.67em 0;\n}\nstrong {\n  font-weight: 700;\n}\nimg {\n  border: 0;\n}\nbutton {\n  margin: 0;\n}\nbutton {\n  text-transform: none;\n}\nbutton {\n  -webkit-appearance: button;\n}\nbutton::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\n*,\n:after,\n:before {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\nhtml {\n  font-size: 62.5%;\n}\nbody {\n  font-size: 14px;\n  line-height: 1.428571429;\n  color: #333;\n  background-color: #fff;\n}\nbutton {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\na {\n  color: #428bca;\n  text-decoration: none;\n}\nimg {\n  vertical-align: middle;\n}\nh1,\nh3,\nh4 {\n  line-height: 1.1;\n  color: inherit;\n}\nh1,\nh3 {\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\nh4 {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\nh1 {\n  font-size: 36px;\n}\nh3 {\n  font-size: 24px;\n}\nh4 {\n  font-size: 18px;\n}\np {\n  margin: 0 0 10px;\n}\n.lead {\n  margin-bottom: 20px;\n  font-size: 16px;\n  font-weight: 200;\n  line-height: 1.4;\n}\n@media (min-width: 768px) {\n  .lead {\n    font-size: 21px;\n  }\n}\n.text-muted {\n  color: #999;\n}\nul {\n  margin-top: 0;\n  margin-bottom: 10px;\n}\n.container {\n  padding-right: 15px;\n  padding-left: 15px;\n  margin-right: auto;\n  margin-left: auto;\n}\n.container:after,\n.container:before {\n  display: table;\n  content: ' ';\n}\n.container:after {\n  clear: both;\n}\n@media (min-width: 768px) {\n  .container {\n    width: 750px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    width: 970px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    width: 1170px;\n  }\n}\n.row {\n  margin-right: -15px;\n  margin-left: -15px;\n}\n.row:after,\n.row:before {\n  display: table;\n  content: ' ';\n}\n.row:after {\n  clear: both;\n}\n.col-lg-12,\n.col-lg-4,\n.col-md-4,\n.col-sm-4 {\n  position: relative;\n  min-height: 1px;\n  padding-right: 15px;\n  padding-left: 15px;\n}\n@media (min-width: 768px) {\n  .col-sm-4 {\n    float: left;\n  }\n  .col-sm-4 {\n    width: 33.33333333333333%;\n  }\n}\n@media (min-width: 992px) {\n  .col-md-4 {\n    float: left;\n  }\n  .col-md-4 {\n    width: 33.33333333333333%;\n  }\n}\n@media (min-width: 1200px) {\n  .col-lg-12,\n  .col-lg-4 {\n    float: left;\n  }\n  .col-lg-12 {\n    width: 100%;\n  }\n  .col-lg-4 {\n    width: 33.33333333333333%;\n  }\n}\n.btn {\n  display: inline-block;\n  padding: 6px 12px;\n  margin-bottom: 0;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.428571429;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  background-image: none;\n  border: 1px solid transparent;\n  border-radius: 4px;\n}\n.btn-success {\n  color: #fff;\n  background-color: #5cb85c;\n  border-color: #4cae4c;\n}\n.btn-lg {\n  padding: 10px 16px;\n  font-size: 18px;\n  line-height: 1.33;\n  border-radius: 6px;\n}\n.btn-primary {\n  color: #fff;\n  background-color: #428bca;\n  border-color: #357ebd;\n}\n.btn-xs {\n  padding: 1px 5px;\n  font-size: 12px;\n  line-height: 1.5;\n  border-radius: 3px;\n}\n.nav {\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n.nav:after,\n.nav:before {\n  display: table;\n  content: ' ';\n}\n.nav:after {\n  clear: both;\n}\n.nav > li {\n  position: relative;\n  display: block;\n}\n.nav > li > a {\n  position: relative;\n  display: block;\n  padding: 10px 15px;\n}\n.nav-pills > li {\n  float: left;\n}\n.nav-pills > li > a {\n  border-radius: 4px;\n}\n.label {\n  display: inline;\n  padding: 0.2em 0.6em 0.3em;\n  font-size: 75%;\n  font-weight: 700;\n  line-height: 1;\n  color: #fff;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  border-radius: 0.25em;\n}\n.label:empty {\n  display: none;\n}\n.label-success {\n  background-color: #5cb85c;\n}\n.badge {\n  display: inline-block;\n  min-width: 10px;\n  padding: 3px 7px;\n  font-size: 12px;\n  font-weight: 700;\n  line-height: 1;\n  color: #fff;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: baseline;\n  background-color: #999;\n  border-radius: 10px;\n}\n.jumbotron {\n  padding: 30px;\n  margin-bottom: 30px;\n  font-size: 21px;\n  font-weight: 200;\n  line-height: 2.1428571435;\n  color: inherit;\n}\n.jumbotron h1 {\n  line-height: 1;\n  color: inherit;\n}\n.jumbotron p {\n  line-height: 1.4;\n}\n.container .jumbotron {\n  border-radius: 6px;\n}\n@media screen and (min-width: 768px) {\n  .jumbotron {\n    padding-top: 48px;\n    padding-bottom: 48px;\n  }\n  .container .jumbotron {\n    padding-right: 60px;\n    padding-left: 60px;\n  }\n  .jumbotron h1 {\n    font-size: 63px;\n  }\n}\n.panel {\n  margin-bottom: 20px;\n  background-color: #fff;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);\n}\n.panel-body {\n  padding: 15px;\n}\n.panel-body:after,\n.panel-body:before {\n  display: table;\n  content: ' ';\n}\n.panel-body:after {\n  clear: both;\n}\n.panel-default {\n  border-color: #ddd;\n}\n.pull-right {\n  float: right !important;\n}\n@-ms-viewport {\n  width: device-width;\n}\nbody {\n  padding-top: 20px;\n  padding-bottom: 20px;\n}\n.header,\n.marketing {\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.header {\n  border-bottom: 1px solid #e5e5e5;\n}\n.header h3 {\n  margin-top: 0;\n  margin-bottom: 0;\n  line-height: 40px;\n  padding-bottom: 19px;\n}\n.jumbotron {\n  text-align: center;\n  border-bottom: 1px solid #e5e5e5;\n}\n.jumbotron .btn {\n  font-size: 21px;\n  padding: 14px 24px;\n}\n.marketing {\n  margin: 40px 0;\n}\n@media screen and (min-width: 768px) {\n  .container {\n    max-width: 730px;\n  }\n  .header,\n  .marketing {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  .header {\n    margin-bottom: 30px;\n  }\n  .jumbotron {\n    border-bottom: 0;\n  }\n}\nbody {\n  font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\nh1,\nh3,\nh4 {\n  font-family: 'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: 800;\n}\n.jumbotron {\n  background-color: transparent;\n}\n",""])},function(n,e,t){var o=t(11);"string"==typeof o&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(1)(o,i);o.locals&&(n.exports=o.locals)},function(n,e,t){"use strict";function o(n){this.requestsPerSecond=n.requestsPerSecond,this.promiseImplementation=n.promiseImplementation||Promise,this.lastStartTime=0,this.queued=[]}o.prototype.add=function(n,e){var t=this,o=e||{};return new t.promiseImplementation(function(e,i){t.queued.push({resolve:e,reject:i,promise:n,weight:o.weight||1,signal:o.signal}),t.dequeue()})},o.prototype.addAll=function(n,e){var t=n.map(function(n){return this.add(n,e)}.bind(this));return Promise.all(t)},o.prototype.dequeue=function(){if(this.queued.length>0){var n=new Date,e=this.queued[0].weight,t=1e3/this.requestsPerSecond*e,o=n-this.lastStartTime;o>=t?this._execute():setTimeout(function(){this.dequeue()}.bind(this),t-o)}},o.prototype._execute=function(){this.lastStartTime=new Date;var n=this.queued.shift();n.signal&&n.signal.aborted?n.reject(new DOMException("","AbortError")):n.promise().then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)})},n.exports=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NjcmlwdHMvb2F1dGgtY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NjcmlwdHMvb2F1dGgtbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvc2NyaXB0cy9jdXN0b20tZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL3NjcmlwdHMvcHJvbWlzZUZvclBhZ2VzLmpzIiwid2VicGFjazovLy8uL2FwcC9zY3JpcHRzL2RlZHVwbGljYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvc2NyaXB0cy9tYWluLmpzIiwid2VicGFjazovLy8uL2FwcC9mYXZpY29uLmljbyIsIndlYnBhY2s6Ly8vLi9hcHAvcGxhY2Vob2xkZXIucG5nIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi91cmwvZXNjYXBlLmpzIiwid2VicGFjazovLy8uL2FwcC9zdHlsZXMvY3VzdG9tLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvc3R5bGVzL2N1c3RvbS5jc3M/NjFmZSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL2FwcC9zdHlsZXMvbWFpbi5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL3N0eWxlcy9tYWluLmNzcz83NTJiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9taXNlLXRocm90dGxlL2xpYi9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmVkaXJlY3RVcmkiLCJsb2NhdGlvbiIsImhvc3QiLCJleGVjIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImNsaWVudElkIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwibWVtb2l6ZSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwibGVuZ3RoIiwiaXRlbSIsImRvbVN0eWxlIiwiaWQiLCJyZWZzIiwiaiIsInBhcnRzIiwicHVzaCIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibGlzdCIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidW5kZWZpbmVkIiwiYXR0cnMiLCJ0eXBlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwicmVwbGFjZVRleHQiLCJ0ZXh0U3RvcmUiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwidG9Db21tZW50Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwib2F1dGhfbWFuYWdlciIsIm9idGFpblRva2VuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhdXRoV2luZG93IiwicG9sbEF1dGhXaW5kb3dDbG9zZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVjZWl2ZU1lc3NhZ2UiLCJldmVudCIsImNsZWFySW50ZXJ2YWwiLCJvcmlnaW4iLCJvYXV0aF9jb25maWciLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkYXRhIiwibGVmdCIsInNjcmVlbiIsIndpZHRoIiwidG9wIiwiaGVpZ2h0IiwicGFyYW1zIiwiY2xpZW50X2lkIiwicmVkaXJlY3RfdXJpIiwicmVzcG9uc2VfdHlwZSIsInNjb3BlcyIsInNjb3BlIiwib3BlbiIsInRvUXVlcnlTdHJpbmciLCJzZXRJbnRlcnZhbCIsImNsb3NlZCIsIm1lc3NhZ2UiLCJ0aW1lb3V0QmV0d2VlbkZhaWxpbmdSZXF1ZXN0cyIsInF1ZXVlIiwiaXNPbmdvaW5nUmVxdWVzdCIsImFzeW5jIiwidHJ5VG9FeGVjdXRlIiwiY29uc29sZSIsImxvZyIsIm5leHQiLCJzaGlmdCIsImV4ZWN1dGUiLCJwcm9taXNlIiwidXJsIiwicmV0cmllcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJzdWNjZXNzIiwic3RhdHVzIiwic2V0VGltZW91dCIsIk1hdGgiLCJyYW5kb20iLCJjdXN0b21fZmV0Y2giLCJ0aGVuIiwicHJvbWlzZUZvclBhZ2VzX3Byb21pc2VzRm9yUGFnZXMiLCJpbml0aWFsUmVxdWVzdCIsInByb21pc2VUaHJvdHRsZSIsImFwaSIsImZldGNoR2VuZXJpYyIsInJlc3VsdHMiLCJvZmZzZXQiLCJsaW1pdCIsImdldEdlbmVyaWMiLCJzdWJzdHIiLCJzdHJpcFBhcmFtZXRlcnMiLCJwcm9taXNlcyIsInRvdGFsIiwicmVkdWNlIiwiZnVuYyIsIkFycmF5IiwiQmFzZURlZHVwbGljYXRvciIsIltvYmplY3QgT2JqZWN0XSIsIm1vZGVsIiwidHJhY2tzIiwic2VlbklkcyIsInNlZW5OYW1lQW5kQXJ0aXN0IiwiZHVwbGljYXRlcyIsInRyYWNrIiwiaXNEdXBsaWNhdGUiLCJzZWVuTmFtZUFuZEFydGlzdEtleSIsImFydGlzdHMiLCJhYnMiLCJkdXJhdGlvbl9tcyIsInJlYXNvbiIsImRlZHVwbGljYXRvcl9QbGF5bGlzdERlZHVwbGljYXRvciIsInN1cGVyIiwicGxheWxpc3QiLCJwYWdlUHJvbWlzZXMiLCJwYWdlcyIsInBhZ2UiLCJpdGVtcyIsImNhdGNoIiwicGxheWxpc3RNb2RlbCIsImNvbGxhYm9yYXRpdmUiLCJ0cmFja3NUb1JlbW92ZSIsInVyaSIsImxpbmtlZF9mcm9tIiwicG9zaXRpb25zIiwicmV2ZXJzZSIsImNodW5rIiwicmVtb3ZlVHJhY2tzRnJvbVBsYXlsaXN0Iiwib3duZXIiLCJkZWR1cGxpY2F0b3JfU2F2ZWRUcmFja3NEZWR1cGxpY2F0b3IiLCJyZW1vdmVGcm9tTXlTYXZlZFRyYWNrcyIsInJldHJ5T25Db2RlcyIsInBsYXlsaXN0Q2FjaGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic25hcHNob3RfaWQiLCJzZXRJdGVtIiwiYXBpUHJlZml4IiwibWFpbl9TcG90aWZ5V2ViQXBpIiwidG9rZW4iLCJvcHRpb25zU3RyaW5nIiwiayIsInJlcyIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicmV0cnlPbiIsImpzb24iLCJvayIsInVzZXJJZCIsInBsYXlsaXN0SWQiLCJ1cmlzIiwiZGF0YVRvQmVTZW50IiwiYm9keSIsIlJhdmVuIiwiY2FwdHVyZU1lc3NhZ2UiLCJleHRyYSIsInRyYWNrSWRzIiwiaW5pdCIsInBsYXlsaXN0RGVkdXBsaWNhdG9yIiwic2F2ZWRUcmFja3NEZWR1cGxpY2F0b3IiLCJhcHAiLCJWdWUiLCJpc0xvZ2dlZEluIiwidG9Qcm9jZXNzIiwicGxheWxpc3RzIiwic2F2ZWRUcmFja3MiLCJtZXRob2RzIiwicmVtb3ZlRHVwbGljYXRlcyIsImFsZXJ0IiwiZ2EiLCJyZW1vdmVEdXBsaWNhdGVzSW5TYXZlZFRyYWNrcyIsImNvbXB1dGVkIiwicHJldiIsImN1cnJlbnQiLCJnZXRFbGVtZW50QnlJZCIsImFjY2Vzc1Rva2VuIiwic2V0QWNjZXNzVG9rZW4iLCJhdHRlbXB0cyIsImxvZ2luRnVuY3Rpb24iLCJnZXRNZSIsInVzZXIiLCJwbGF5bGlzdHNUb0NoZWNrIiwib3duZWRQbGF5bGlzdHMiLCJ1IiwicGF0aG5hbWUiLCJwcm9taXNlc0ZvclBhZ2VzIiwiZ2V0VXNlclBsYXlsaXN0cyIsInVzZXJPd25lZFBsYXlsaXN0cyIsImZldGNoVXNlck93bmVkUGxheWxpc3RzIiwicGxheWxpc3RUb1BsYXlsaXN0TW9kZWwiLCJnZXRUcmFja3MiLCJnZXRNeVNhdmVkVHJhY2tzIiwiZmluZER1cGxpY2F0ZWRUcmFja3MiLCJuZWVkc0NoZWNrRm9yRHVwbGljYXRlcyIsInBsYXlsaXN0VHJhY2tzIiwic3RvcmVQbGF5bGlzdFdpdGhvdXREdXBsaWNhdGVzIiwicHJvY2Vzc2VkIiwicmVtYWluaW5nIiwib25QbGF5bGlzdFByb2Nlc3NlZCIsIm9uVXNlckRhdGFGZXRjaGVkIiwib25Ub2tlblJlY2VpdmVkIiwiZXJyb3IiLCJjb25maWciLCJpbnN0YWxsIiwiY29udGV4dCIsInRlc3QiLCJzbGljZSIsInJlcGxhY2UiLCJlc2NhcGUiLCJobXIiLCJsb2NhbHMiLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJjdXJyZW50RGlyIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsIlByb21pc2VUaHJvdHRsZSIsInJlcXVlc3RzUGVyU2Vjb25kIiwicHJvbWlzZUltcGxlbWVudGF0aW9uIiwibGFzdFN0YXJ0VGltZSIsInF1ZXVlZCIsImFkZCIsInNlbGYiLCJvcHQiLCJ3ZWlnaHQiLCJzaWduYWwiLCJkZXF1ZXVlIiwiYWRkQWxsIiwiYWRkZWRQcm9taXNlcyIsIm5vdyIsIkRhdGUiLCJpbmMiLCJlbGFwc2VkIiwiX2V4ZWN1dGUiLCJjYW5kaWRhdGUiLCJhYm9ydGVkIiwiRE9NRXhjZXB0aW9uIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVB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OTFhMmI1ZmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJjb25zdCBjbGllbnRJZCA9ICcwNGRjYTBkZTFjNGU0YWNhODhjYzYxNWFjMjM1ODFiZSc7XG5jb25zdCByZWRpcmVjdFVyaSA9XG4gIGxvY2F0aW9uLmhvc3QgPT09ICdsb2NhbGhvc3Q6ODAwNSdcbiAgICA/ICdodHRwOi8vbG9jYWxob3N0OjgwMDUvY2FsbGJhY2suaHRtbCdcbiAgICA6ICdodHRwczovL2ptcGVyZXpwZXJlei5jb20vc3BvdGlmeS1kZWR1cC9jYWxsYmFjay5odG1sJztcblxuY29uc3QgaG9zdCA9IC9odHRwW3NdPzpcXC9cXC9bXi9dKy8uZXhlYyhyZWRpcmVjdFVyaSlbMF07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2xpZW50SWQsXG4gIHJlZGlyZWN0VXJpLFxuICBob3N0XG59O1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJpbXBvcnQgT0F1dGhDb25maWcgZnJvbSAnLi9vYXV0aC1jb25maWcnO1xuXG5mdW5jdGlvbiB0b1F1ZXJ5U3RyaW5nKG9iaikge1xuICBjb25zdCBwYXJ0cyA9IFtdO1xuICBmb3IgKGNvbnN0IGkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgcGFydHMucHVzaChgJHtlbmNvZGVVUklDb21wb25lbnQoaSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSl9YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG59XG5cbmZ1bmN0aW9uIG9idGFpblRva2VuKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBhdXRoV2luZG93ID0gbnVsbDtcbiAgICBsZXQgcG9sbEF1dGhXaW5kb3dDbG9zZWQgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2UoZXZlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocG9sbEF1dGhXaW5kb3dDbG9zZWQpO1xuICAgICAgaWYgKGV2ZW50Lm9yaWdpbiAhPT0gT0F1dGhDb25maWcuaG9zdCkge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGF1dGhXaW5kb3cgIT09IG51bGwpIHtcbiAgICAgICAgYXV0aFdpbmRvdy5jbG9zZSgpO1xuICAgICAgICBhdXRoV2luZG93ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCByZWNlaXZlTWVzc2FnZSwgZmFsc2UpO1xuXG4gICAgICAvLyB0b2RvOiBtYW5hZ2UgY2FzZSB3aGVuIHRoZSB1c2VyIHJlamVjdHMgdGhlIG9hdXRoXG4gICAgICAvLyBvciB0aGUgb2F1dGggZmFpbHMgdG8gb2J0YWluIGEgdG9rZW5cbiAgICAgIHJlc29sdmUoZXZlbnQuZGF0YSk7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCByZWNlaXZlTWVzc2FnZSwgZmFsc2UpO1xuXG4gICAgY29uc3Qgd2lkdGggPSA0MDA7XG4gICAgY29uc3QgaGVpZ2h0ID0gNjAwO1xuICAgIGNvbnN0IGxlZnQgPSBzY3JlZW4ud2lkdGggLyAyIC0gd2lkdGggLyAyO1xuICAgIGNvbnN0IHRvcCA9IHNjcmVlbi5oZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcblxuICAgIC8qanNoaW50IGNhbWVsY2FzZTpmYWxzZSovXG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgY2xpZW50X2lkOiBPQXV0aENvbmZpZy5jbGllbnRJZCxcbiAgICAgIHJlZGlyZWN0X3VyaTogT0F1dGhDb25maWcucmVkaXJlY3RVcmksXG4gICAgICByZXNwb25zZV90eXBlOiAndG9rZW4nXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLnNjb3Blcykge1xuICAgICAgcGFyYW1zLnNjb3BlID0gb3B0aW9ucy5zY29wZXMuam9pbignICcpO1xuICAgIH1cblxuICAgIGF1dGhXaW5kb3cgPSB3aW5kb3cub3BlbihcbiAgICAgIGBodHRwczovL2FjY291bnRzLnNwb3RpZnkuY29tL2F1dGhvcml6ZT8ke3RvUXVlcnlTdHJpbmcocGFyYW1zKX1gLFxuICAgICAgJ1Nwb3RpZnknLFxuICAgICAgYG1lbnViYXI9bm8sbG9jYXRpb249bm8scmVzaXphYmxlPW5vLHNjcm9sbGJhcnM9bm8sc3RhdHVzPW5vLCB3aWR0aD0ke3dpZHRofSwgaGVpZ2h0PSR7aGVpZ2h0fSwgdG9wPSR7dG9wfSwgbGVmdD0ke2xlZnR9YFxuICAgICk7XG5cbiAgICBwb2xsQXV0aFdpbmRvd0Nsb3NlZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChhdXRoV2luZG93ICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChhdXRoV2luZG93LmNsb3NlZCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbEF1dGhXaW5kb3dDbG9zZWQpO1xuICAgICAgICAgIHJlamVjdCh7IG1lc3NhZ2U6ICdhY2Nlc3NfZGVuaWVkJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9KTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBvYnRhaW5Ub2tlbiB9O1xuIiwiY29uc3QgbWF4UmVxdWVzdHNQZXJTZWNvbmQgPSA0O1xuY29uc3QgdGltZXMgPSBbXTtcbmNvbnN0IHRpbWVvdXRCZXR3ZWVuRmFpbGluZ1JlcXVlc3RzID0gMTAwMDtcbmNvbnN0IHF1ZXVlID0gW107XG5sZXQgaXNPbmdvaW5nUmVxdWVzdCA9IGZhbHNlO1xuXG5hc3luYyBmdW5jdGlvbiBleGVjdXRlKHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0LCB1cmwsIG9wdGlvbnMsIHJldHJpZXMgfSkge1xuICBjb25zb2xlLmxvZygnZXhlY3V0ZScpO1xuICB0cnkge1xuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgb3B0aW9ucyk7XG4gICAgbGV0IHN1Y2Nlc3MgPSByZXNwb25zZS5zdGF0dXMgPCA0MDA7XG4gICAgY29uc29sZS5sb2coJ2dvdCBzdGF0dXMgJyArIHJlc3BvbnNlLnN0YXR1cyArICcgd2l0aCByZXRyaWVzICcgKyByZXRyaWVzKTtcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgfSBlbHNlIGlmICgtLXJldHJpZXMgPiAwKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZXhlY3V0ZSh7IHByb21pc2UsIHJlc29sdmUsIHJlamVjdCwgdXJsLCBvcHRpb25zLCByZXRyaWVzIH0pO1xuICAgICAgfSwgdGltZW91dEJldHdlZW5GYWlsaW5nUmVxdWVzdHMgKyBNYXRoLnJhbmRvbSgpICogMjAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdChyZXNwb25zZSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKC0tcmV0cmllcyA+IDApIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBleGVjdXRlKHsgcHJvbWlzZSwgcmVzb2x2ZSwgcmVqZWN0LCB1cmwsIG9wdGlvbnMsIHJldHJpZXMgfSk7XG4gICAgICB9LCB0aW1lb3V0QmV0d2VlbkZhaWxpbmdSZXF1ZXN0cyArIE1hdGgucmFuZG9tKCkgKiAyMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVqZWN0KHJlc3BvbnNlKTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gdHJ5VG9FeGVjdXRlKCkge1xuICBjb25zb2xlLmxvZygndHJ5VG9FeGVjdXRlJyk7XG4gIGlmICghaXNPbmdvaW5nUmVxdWVzdCAmJiBxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgaXNPbmdvaW5nUmVxdWVzdCA9IHRydWU7XG4gICAgY29uc3QgbmV4dCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgZXhlY3V0ZSh7XG4gICAgICBwcm9taXNlOiBuZXh0LnByb21pc2UsXG4gICAgICByZXNvbHZlOiBuZXh0LnJlc29sdmUsXG4gICAgICByZWplY3Q6IG5leHQucmVqZWN0LFxuICAgICAgdXJsOiBuZXh0LnVybCxcbiAgICAgIG9wdGlvbnM6IG5leHQub3B0aW9ucyxcbiAgICAgIHJldHJpZXM6IG5leHQucmV0cmllc1xuICAgIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGN1c3RvbUZldGNoKHVybCwgb3B0aW9ucykge1xuICBjb25zb2xlLmxvZygnY3VzdG9tRmV0Y2gnLCB7IHVybCwgb3B0aW9ucyB9KTtcbiAgbGV0IHJldHJpZXMgPSAzO1xuICBsZXQgcmVzcG9uc2UgPSBudWxsO1xuICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcXVldWUucHVzaCh7IHByb21pc2U6IG51bGwsIHJlc29sdmUsIHJlamVjdCwgdXJsLCBvcHRpb25zLCByZXRyaWVzIH0pO1xuICB9KTtcblxuICB0cnlUb0V4ZWN1dGUoKTtcblxuICAvKmxldCB3YWl0aW5nVGltZSA9XG4gICAgICB0aW1lcy5sZW5ndGggPT09IG1heFJlcXVlc3RzUGVyU2Vjb25kICYmIERhdGUubm93KCkgLSB0aW1lc1swXSA8IDEwMDBcbiAgICAgICAgPyBEYXRlLm5vdygpIC0gdGltZXNbMF1cbiAgICAgICAgOiAwO1xuICAgIGNvbnNvbGUubG9nKCd3YWl0aW5nIGZvciAnICsgd2FpdGluZ1RpbWUgKyAnbXMnKTtcbiAgICBzZXRUaW1lb3V0KHRyeVJlcXVlc3QsIHdhaXRpbmdUaW1lKTsqL1xuXG4gIHByb21pc2UudGhlbihyID0+IHtcbiAgICBpc09uZ29pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgdHJ5VG9FeGVjdXRlKCk7XG4gIH0pO1xuXG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjdXN0b21GZXRjaDtcbiIsImltcG9ydCBmZXRjaCBmcm9tICcuL2N1c3RvbS1mZXRjaCc7XG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBwcm9taXNlc0ZvclBhZ2VzKFxuICBpbml0aWFsUmVxdWVzdCxcbiAgcHJvbWlzZVRocm90dGxlLFxuICBhcGlcbikge1xuICBmdW5jdGlvbiBzdHJpcFBhcmFtZXRlcnMoaHJlZikge1xuICAgIHJldHVybiBocmVmLmluZGV4T2YoJz8nKSAhPT0gLTEgPyBocmVmLnN1YnN0cigwLCBocmVmLmluZGV4T2YoJz8nKSkgOiBocmVmO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hHZW5lcmljKHJlc3VsdHMsIG9mZnNldCwgbGltaXQpIHtcbiAgICByZXR1cm4gYXBpLmdldEdlbmVyaWMoXG4gICAgICBgJHtzdHJpcFBhcmFtZXRlcnMocmVzdWx0cy5ocmVmKX0/b2Zmc2V0PSR7b2Zmc2V0fSZsaW1pdD0ke2xpbWl0fWBcbiAgICApO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGluaXRpYWxSZXF1ZXN0O1xuICBpZiAocmVzdWx0cyA9PT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHByb21pc2VzID0gWygpID0+IGluaXRpYWxSZXF1ZXN0XTtcbiAgbGV0IG9mZnNldCA9IHJlc3VsdHMubGltaXQgKyByZXN1bHRzLm9mZnNldDtcbiAgY29uc3QgbGltaXQgPSByZXN1bHRzLmxpbWl0O1xuICB3aGlsZSAocmVzdWx0cy50b3RhbCA+IG9mZnNldCkge1xuICAgIChmdW5jdGlvbihyZXN1bHRzLCBvZmZzZXQsIGxpbWl0KSB7XG4gICAgICBjb25zb2xlLmxvZyhvZmZzZXQsIGxpbWl0KTtcbiAgICAgIGNvbnN0IHEgPSAoKSA9PiBmZXRjaEdlbmVyaWMocmVzdWx0cywgb2Zmc2V0LCBsaW1pdCk7XG4gICAgICBwcm9taXNlcy5wdXNoKHEpO1xuICAgIH0pKHJlc3VsdHMsIG9mZnNldCwgbGltaXQpO1xuICAgIG9mZnNldCArPSBsaW1pdDtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlcy5yZWR1Y2UoXG4gICAgKHByb21pc2UsIGZ1bmMpID0+XG4gICAgICBwcm9taXNlLnRoZW4ocmVzdWx0ID0+IGZ1bmMoKS50aGVuKEFycmF5LnByb3RvdHlwZS5jb25jYXQuYmluZChyZXN1bHQpKSksXG4gICAgUHJvbWlzZS5yZXNvbHZlKFtdKVxuICApO1xufVxuIiwiaW1wb3J0IGZldGNoIGZyb20gJy4vY3VzdG9tLWZldGNoJztcbmltcG9ydCBwcm9taXNlc0ZvclBhZ2VzIGZyb20gJy4vcHJvbWlzZUZvclBhZ2VzJztcblxubGV0IHRva2VuO1xubGV0IGFwaTtcblxuY2xhc3MgQmFzZURlZHVwbGljYXRvciB7XG4gIGNvbnN0cnVjdG9yKGFwaSwgcHJvbWlzZVRocm90dGxlKSB7XG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgdGhpcy5wcm9taXNlVGhyb3R0bGUgPSBwcm9taXNlVGhyb3R0bGU7XG4gIH1cblxuICBhc3luYyByZW1vdmVEdXBsaWNhdGVzKG1vZGVsKSB7XG4gICAgdGhyb3cgJ05vdCBpbXBsZW1lbnRlZCc7XG4gIH1cblxuICBhc3luYyBnZXRUcmFja3MoKSB7XG4gICAgdGhyb3cgJ05vdCBpbXBsZW1lbnRlZCc7XG4gIH1cblxuICBmaW5kRHVwbGljYXRlZFRyYWNrcyh0cmFja3MpIHtcbiAgICBjb25zdCBzZWVuSWRzID0ge307XG4gICAgY29uc3Qgc2Vlbk5hbWVBbmRBcnRpc3QgPSB7fTtcbiAgICBjb25zdCByZXN1bHQgPSB0cmFja3MucmVkdWNlKChkdXBsaWNhdGVzLCB0cmFjaywgaW5kZXgpID0+IHtcbiAgICAgIGlmICh0cmFjayA9PT0gbnVsbCkgcmV0dXJuIGR1cGxpY2F0ZXM7XG4gICAgICBpZiAodHJhY2suaWQgPT09IG51bGwpIHJldHVybiBkdXBsaWNhdGVzO1xuICAgICAgbGV0IGlzRHVwbGljYXRlID0gZmFsc2U7XG4gICAgICBjb25zdCBzZWVuTmFtZUFuZEFydGlzdEtleSA9IGAke3RyYWNrLm5hbWV9OiR7dHJhY2suYXJ0aXN0c1swXS5uYW1lfWA7XG4gICAgICBpZiAodHJhY2suaWQgaW4gc2Vlbklkcykge1xuICAgICAgICAvLyBpZiB0aGUgdHdvIHRyYWNrcyBoYXZlIHRoZSBzYW1lIFNwb3RpZnkgSUQsIHRoZXkgYXJlIGR1cGxpY2F0ZXNcbiAgICAgICAgaXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgdGhleSBoYXZlIHRoZSBzYW1lIG5hbWUsIG1haW4gYXJ0aXN0LCBhbmQgcm91Z2hseSBzYW1lIGR1cmF0aW9uXG4gICAgICAgIC8vIHdlIGNvbnNpZGVyIHRlbSBkdXBsaWNhdGVzIHRvb1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2Vlbk5hbWVBbmRBcnRpc3RLZXkgaW4gc2Vlbk5hbWVBbmRBcnRpc3QgJiZcbiAgICAgICAgICBNYXRoLmFicyhcbiAgICAgICAgICAgIHNlZW5OYW1lQW5kQXJ0aXN0W3NlZW5OYW1lQW5kQXJ0aXN0S2V5XSAtIHRyYWNrLmR1cmF0aW9uX21zXG4gICAgICAgICAgKSA8IDIwMDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgaXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgZHVwbGljYXRlcy5wdXNoKHtcbiAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgdHJhY2s6IHRyYWNrLFxuICAgICAgICAgIHJlYXNvbjogdHJhY2suaWQgaW4gc2VlbklkcyA/ICdzYW1lLWlkJyA6ICdzYW1lLW5hbWUtYXJ0aXN0J1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlZW5JZHNbdHJhY2suaWRdID0gdHJ1ZTtcbiAgICAgICAgc2Vlbk5hbWVBbmRBcnRpc3Rbc2Vlbk5hbWVBbmRBcnRpc3RLZXldID0gdHJhY2suZHVyYXRpb25fbXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZHVwbGljYXRlcztcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGxheWxpc3REZWR1cGxpY2F0b3IgZXh0ZW5kcyBCYXNlRGVkdXBsaWNhdG9yIHtcbiAgY29uc3RydWN0b3IoYXBpLCBwcm9taXNlVGhyb3R0bGUpIHtcbiAgICBzdXBlcihhcGksIHByb21pc2VUaHJvdHRsZSk7XG4gIH1cbiAgYXN5bmMgZ2V0VHJhY2tzKHBsYXlsaXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRyYWNrcyA9IFtdO1xuICAgICAgcHJvbWlzZXNGb3JQYWdlcyhcbiAgICAgICAgdGhpcy5hcGkuZ2V0R2VuZXJpYyhwbGF5bGlzdC50cmFja3MuaHJlZiksXG4gICAgICAgIHRoaXMucHJvbWlzZVRocm90dGxlLFxuICAgICAgICB0aGlzLmFwaVxuICAgICAgKVxuICAgICAgICAudGhlbigoXG4gICAgICAgICAgcGFnZVByb21pc2VzIC8vIHRvZG86IEknZCBsb3ZlIHRvIHJlcGxhY2UgdGhpcyB3aXRoXG4gICAgICAgICkgPT5cbiAgICAgICAgICAvLyAudGhlbihQcm9taXNlLmFsbClcbiAgICAgICAgICAvLyDDoCBsYSBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9lczYvcHJvbWlzZXMvI3RvYy10cmFuc2Zvcm1pbmctdmFsdWVzXG4gICAgICAgICAgUHJvbWlzZS5hbGwocGFnZVByb21pc2VzKVxuICAgICAgICApXG4gICAgICAgIC50aGVuKHBhZ2VzID0+IHtcbiAgICAgICAgICBwYWdlcy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgICAgICAgcGFnZS5pdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICB0cmFja3MucHVzaChpdGVtLnRyYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmUodHJhY2tzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyByZW1vdmVEdXBsaWNhdGVzKHBsYXlsaXN0TW9kZWwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHBsYXlsaXN0TW9kZWwucGxheWxpc3QuaWQgPT09ICdzdGFycmVkJykge1xuICAgICAgICByZWplY3QoXG4gICAgICAgICAgJ0l0IGlzIG5vdCBwb3NzaWJsZSB0byBkZWxldGUgZHVwbGljYXRlcyBmcm9tIHlvdXIgU3RhcnJlZCBwbGF5bGlzdCB1c2luZyB0aGlzIHRvb2wgc2luY2UgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBTcG90aWZ5IFdlYiBBUEkuIFlvdSB3aWxsIG5lZWQgdG8gcmVtb3ZlIHRoZXNlIG1hbnVhbGx5LidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChwbGF5bGlzdE1vZGVsLnBsYXlsaXN0LmNvbGxhYm9yYXRpdmUpIHtcbiAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICdJdCBpcyBub3QgcG9zc2libGUgdG8gZGVsZXRlIGR1cGxpY2F0ZXMgZnJvbSBhIGNvbGxhYm9yYXRpdmUgcGxheWxpc3QgdXNpbmcgdGhpcyB0b29sIHNpbmNlIHRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgU3BvdGlmeSBXZWIgQVBJLiBZb3Ugd2lsbCBuZWVkIHRvIHJlbW92ZSB0aGVzZSBtYW51YWxseS4nXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0cmFja3NUb1JlbW92ZSA9IHBsYXlsaXN0TW9kZWwuZHVwbGljYXRlc1xuICAgICAgICAgIC5tYXAoZCA9PiAoe1xuICAgICAgICAgICAgdXJpOiBkLnRyYWNrLmxpbmtlZF9mcm9tID8gZC50cmFjay5saW5rZWRfZnJvbS51cmkgOiBkLnRyYWNrLnVyaSxcbiAgICAgICAgICAgIHBvc2l0aW9uczogW2QuaW5kZXhdXG4gICAgICAgICAgfSkpXG4gICAgICAgICAgLnJldmVyc2UoKTsgLy8gcmV2ZXJzZSBzbyB3ZSBkZWxldGUgdGhlIGxhc3Qgb25lcyBmaXJzdFxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgY29uc3QgY2h1bmsgPSB0cmFja3NUb1JlbW92ZS5zcGxpY2UoMCwgMTAwKTtcbiAgICAgICAgICAoZnVuY3Rpb24ocGxheWxpc3RNb2RlbCwgY2h1bmssIGFwaSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaCgoKSA9PlxuICAgICAgICAgICAgICBhcGkucmVtb3ZlVHJhY2tzRnJvbVBsYXlsaXN0KFxuICAgICAgICAgICAgICAgIHBsYXlsaXN0TW9kZWwucGxheWxpc3Qub3duZXIuaWQsXG4gICAgICAgICAgICAgICAgcGxheWxpc3RNb2RlbC5wbGF5bGlzdC5pZCxcbiAgICAgICAgICAgICAgICBjaHVua1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pKHBsYXlsaXN0TW9kZWwsIGNodW5rLCB0aGlzLmFwaSk7XG4gICAgICAgIH0gd2hpbGUgKHRyYWNrc1RvUmVtb3ZlLmxlbmd0aCA+IDApO1xuXG4gICAgICAgIHByb21pc2VzXG4gICAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAgIChwcm9taXNlLCBmdW5jKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gZnVuYygpKSxcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShudWxsKVxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwbGF5bGlzdE1vZGVsLmR1cGxpY2F0ZXMuZHVwbGljYXRlcyA9IFtdO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTYXZlZFRyYWNrc0RlZHVwbGljYXRvciBleHRlbmRzIEJhc2VEZWR1cGxpY2F0b3Ige1xuICBjb25zdHJ1Y3RvcihhcGksIHByb21pc2VUaHJvdHRsZSkge1xuICAgIHN1cGVyKGFwaSwgcHJvbWlzZVRocm90dGxlKTtcbiAgfVxuXG4gIGFzeW5jIGdldFRyYWNrcyhpbml0aWFsUmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFja3MgPSBbXTtcbiAgICAgIHByb21pc2VzRm9yUGFnZXMoaW5pdGlhbFJlcXVlc3QsIHRoaXMucHJvbWlzZVRocm90dGxlLCB0aGlzLmFwaSlcbiAgICAgICAgLnRoZW4oKFxuICAgICAgICAgIHBhZ2VQcm9taXNlcyAvLyB0b2RvOiBJJ2QgbG92ZSB0byByZXBsYWNlIHRoaXMgd2l0aFxuICAgICAgICApID0+XG4gICAgICAgICAgLy8gLnRoZW4oUHJvbWlzZS5hbGwpXG4gICAgICAgICAgLy8gw6AgbGEgaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZXM2L3Byb21pc2VzLyN0b2MtdHJhbnNmb3JtaW5nLXZhbHVlc1xuICAgICAgICAgIFByb21pc2UuYWxsKHBhZ2VQcm9taXNlcylcbiAgICAgICAgKVxuICAgICAgICAudGhlbihwYWdlcyA9PiB7XG4gICAgICAgICAgcGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgICAgIHBhZ2UuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgdHJhY2tzLnB1c2goaXRlbS50cmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNvbHZlKHRyYWNrcyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlRHVwbGljYXRlcyhtb2RlbCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0cmFja3NUb1JlbW92ZSA9IG1vZGVsLmR1cGxpY2F0ZXMubWFwKFxuICAgICAgICBkID0+IChkLnRyYWNrLmxpbmtlZF9mcm9tID8gZC50cmFjay5saW5rZWRfZnJvbS5pZCA6IGQudHJhY2suaWQpXG4gICAgICApO1xuICAgICAgZG8ge1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gdHJhY2tzVG9SZW1vdmUuc3BsaWNlKDAsIDUwKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmFwaS5yZW1vdmVGcm9tTXlTYXZlZFRyYWNrcyhjaHVuayk7XG4gICAgICAgIH0pKCk7XG4gICAgICB9IHdoaWxlICh0cmFja3NUb1JlbW92ZS5sZW5ndGggPiAwKTtcbiAgICAgIG1vZGVsLmR1cGxpY2F0ZXMgPSBbXTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFByb21pc2VUaHJvdHRsZSBmcm9tICdwcm9taXNlLXRocm90dGxlJztcbmltcG9ydCBPQXV0aE1hbmFnZXIgZnJvbSAnLi9vYXV0aC1tYW5hZ2VyJztcbmltcG9ydCB7IFBsYXlsaXN0RGVkdXBsaWNhdG9yLCBTYXZlZFRyYWNrc0RlZHVwbGljYXRvciB9IGZyb20gJy4vZGVkdXBsaWNhdG9yJztcbmltcG9ydCBmZXRjaCBmcm9tICcuL2N1c3RvbS1mZXRjaCc7XG5cbmltcG9ydCBtYWluQ3NzIGZyb20gJy4uL3N0eWxlcy9tYWluLmNzcyc7XG5pbXBvcnQgY3VzdG9tQ3NzIGZyb20gJy4uL3N0eWxlcy9jdXN0b20uY3NzJztcbmltcG9ydCBmYXZpY29uIGZyb20gJy4uL2Zhdmljb24uaWNvJztcblxuY29uc3QgcmV0cnlPbkNvZGVzID0gWzQwMCwgNDAxLCA0MDQsIDQyOSwgNTAwLCA1MDIsIDUwMywgNTA0XTtcbmNsYXNzIFBsYXlsaXN0Q2FjaGUge1xuICBuZWVkc0NoZWNrRm9yRHVwbGljYXRlcyhwbGF5bGlzdCkge1xuICAgIGlmICgnc25hcHNob3RfaWQnIGluIHBsYXlsaXN0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0ocGxheWxpc3Quc25hcHNob3RfaWQpID09PSAnMCcpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc3RvcmVQbGF5bGlzdFdpdGhvdXREdXBsaWNhdGVzKHBsYXlsaXN0KSB7XG4gICAgaWYgKCdzbmFwc2hvdF9pZCcgaW4gcGxheWxpc3QpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHBsYXlsaXN0LnNuYXBzaG90X2lkLCAnMCcpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcGxheWxpc3RDYWNoZSA9IG5ldyBQbGF5bGlzdENhY2hlKCk7XG5cbmNvbnN0IGFwaVByZWZpeCA9ICdodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MSc7XG5cbmNsYXNzIFNwb3RpZnlXZWJBcGkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgfVxuXG4gIHNldEFjY2Vzc1Rva2VuKHRva2VuKSB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICB9XG5cbiAgYXN5bmMgZ2V0TWUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0R2VuZXJpYyhgJHthcGlQcmVmaXh9L21lYCk7XG4gIH1cblxuICBhc3luYyBnZXRHZW5lcmljKHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbnNTdHJpbmcgPVxuICAgICAgb3B0aW9ucyA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gJydcbiAgICAgICAgOiBgPyR7T2JqZWN0LmtleXMob3B0aW9ucylcbiAgICAgICAgICAgIC5tYXAoayA9PiBgJHtrfT0ke29wdGlvbnNba119YClcbiAgICAgICAgICAgIC5qb2luKCcmJyl9YDtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3VybH0ke29wdGlvbnNTdHJpbmd9YCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW59YFxuICAgICAgfSxcbiAgICAgIHJldHJ5T246IHJldHJ5T25Db2Rlc1xuICAgIH0pO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChyZXMub2spIHJldHVybiBqc29uO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlclBsYXlsaXN0cyh1c2VySWQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmwgPVxuICAgICAgdHlwZW9mIHVzZXJJZCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBgJHthcGlQcmVmaXh9L3VzZXJzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHVzZXJJZCl9L3BsYXlsaXN0c2BcbiAgICAgICAgOiBgJHthcGlQcmVmaXh9L21lL3BsYXlsaXN0c2A7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0R2VuZXJpYyh1cmwsIG9wdGlvbnMpO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlVHJhY2tzRnJvbVBsYXlsaXN0KHVzZXJJZCwgcGxheWxpc3RJZCwgdXJpcykge1xuICAgIGNvbnN0IGRhdGFUb0JlU2VudCA9IHtcbiAgICAgIHRyYWNrczogdXJpcy5tYXAodXJpID0+ICh0eXBlb2YgdXJpID09PSAnc3RyaW5nJyA/IHsgdXJpOiB1cmkgfSA6IHVyaSkpXG4gICAgfTtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgYCR7YXBpUHJlZml4fS91c2Vycy8ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgdXNlcklkXG4gICAgICApfS9wbGF5bGlzdHMvJHtwbGF5bGlzdElkfS90cmFja3NgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW59YFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhVG9CZVNlbnQpLFxuICAgICAgICByZXRyeU9uOiByZXRyeU9uQ29kZXNcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5SYXZlbiAmJlxuICAgICAgICBSYXZlbi5jYXB0dXJlTWVzc2FnZShcbiAgICAgICAgICBgU3RhdHVzICR7cmVzLnN0YXR1c30gd2hlbiBkZWxldGluZyB0cmFja3MgZnJvbSBwbGF5bGlzdGAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAganNvbjoganNvblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBnZXRNeVNhdmVkVHJhY2tzKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRHZW5lcmljKGAke2FwaVByZWZpeH0vbWUvdHJhY2tzYCwgb3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyByZW1vdmVGcm9tTXlTYXZlZFRyYWNrcyh0cmFja0lkcykge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2FwaVByZWZpeH0vbWUvdHJhY2tzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW59YFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRyYWNrSWRzKSxcbiAgICAgIHJldHJ5T246IHJldHJ5T25Db2Rlc1xuICAgIH0pO1xuXG4gICAgaWYgKHJlcy5vaykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IGluaXQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IHBsYXlsaXN0RGVkdXBsaWNhdG9yO1xuICBsZXQgc2F2ZWRUcmFja3NEZWR1cGxpY2F0b3I7XG5cbiAgbGV0IHRva2VuLCBhcGk7XG5cbiAgbGV0IGFwcCA9IG5ldyBWdWUoe1xuICAgIGVsOiAnI2FwcCcsXG4gICAgZGF0YToge1xuICAgICAgaXNMb2dnZWRJbjogZmFsc2UsXG4gICAgICB0b1Byb2Nlc3M6IDEwMCxcbiAgICAgIHBsYXlsaXN0czogW10sXG4gICAgICBzYXZlZFRyYWNrczoge1xuICAgICAgICBkdXBsaWNhdGVzOiBbXSxcbiAgICAgICAgc3RhdHVzOiAnJ1xuICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgcmVtb3ZlRHVwbGljYXRlczogcGxheWxpc3RNb2RlbCA9PlxuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGlmIChwbGF5bGlzdE1vZGVsLnBsYXlsaXN0LmlkID09PSAnc3RhcnJlZCcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hbGVydChcbiAgICAgICAgICAgICAgJ0l0IGlzIG5vdCBwb3NzaWJsZSB0byBkZWxldGUgZHVwbGljYXRlcyBmcm9tIHlvdXIgU3RhcnJlZCBwbGF5bGlzdCB1c2luZyB0aGlzIHRvb2wgc2luY2UgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBTcG90aWZ5IFdlYiBBUEkuIFlvdSB3aWxsIG5lZWQgdG8gcmVtb3ZlIHRoZXNlIG1hbnVhbGx5LidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwbGF5bGlzdE1vZGVsLnBsYXlsaXN0LmNvbGxhYm9yYXRpdmUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hbGVydChcbiAgICAgICAgICAgICAgJ0l0IGlzIG5vdCBwb3NzaWJsZSB0byBkZWxldGUgZHVwbGljYXRlcyBmcm9tIGEgY29sbGFib3JhdGl2ZSBwbGF5bGlzdCB1c2luZyB0aGlzIHRvb2wgc2luY2UgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBTcG90aWZ5IFdlYiBBUEkuIFlvdSB3aWxsIG5lZWQgdG8gcmVtb3ZlIHRoZXNlIG1hbnVhbGx5LidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cGxpY2F0ZXMgPSBhd2FpdCBwbGF5bGlzdERlZHVwbGljYXRvci5yZW1vdmVEdXBsaWNhdGVzKFxuICAgICAgICAgICAgICBwbGF5bGlzdE1vZGVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcGxheWxpc3RNb2RlbC5kdXBsaWNhdGVzID0gW107XG4gICAgICAgICAgICBwbGF5bGlzdE1vZGVsLnN0YXR1cyA9ICdEdXBsaWNhdGVzIHJlbW92ZWQnO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5nYSkge1xuICAgICAgICAgICAgICBnYShcbiAgICAgICAgICAgICAgICAnc2VuZCcsXG4gICAgICAgICAgICAgICAgJ2V2ZW50JyxcbiAgICAgICAgICAgICAgICAnc3BvdGlmeS1kZWR1cCcsXG4gICAgICAgICAgICAgICAgJ3BsYXlsaXN0LXJlbW92ZWQtZHVwbGljYXRlcydcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pKCksXG4gICAgICByZW1vdmVEdXBsaWNhdGVzSW5TYXZlZFRyYWNrczogKCkgPT5cbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCBkdXBsaWNhdGVzID0gYXdhaXQgc2F2ZWRUcmFja3NEZWR1cGxpY2F0b3IucmVtb3ZlRHVwbGljYXRlcyhcbiAgICAgICAgICAgIGFwcC5zYXZlZFRyYWNrc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYXBwLnNhdmVkVHJhY2tzLmR1cGxpY2F0ZXMgPSBbXTtcbiAgICAgICAgICBhcHAuc2F2ZWRUcmFja3Muc3RhdHVzID0gJ0R1cGxpY2F0ZXMgcmVtb3ZlZCc7XG4gICAgICAgICAgaWYgKHdpbmRvdy5nYSkge1xuICAgICAgICAgICAgZ2EoXG4gICAgICAgICAgICAgICdzZW5kJyxcbiAgICAgICAgICAgICAgJ2V2ZW50JyxcbiAgICAgICAgICAgICAgJ3Nwb3RpZnktZGVkdXAnLFxuICAgICAgICAgICAgICAnc2F2ZWQtdHJhY2tzLXJlbW92ZWQtZHVwbGljYXRlcydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSgpXG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgZHVwbGljYXRlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdGhpcy5wbGF5bGlzdHMucmVkdWNlKFxuICAgICAgICAgICAgKHByZXYsIGN1cnJlbnQpID0+IHByZXYgKyBjdXJyZW50LmR1cGxpY2F0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgMFxuICAgICAgICAgICkgKyB0aGlzLnNhdmVkVHJhY2tzLmR1cGxpY2F0ZXMubGVuZ3RoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIE9BdXRoTWFuYWdlci5vYnRhaW5Ub2tlbih7XG4gICAgICBzY29wZXM6IFtcbiAgICAgICAgLypcbiAgICAgICAgICB0aGUgcGVybWlzc2lvbiBmb3IgcmVhZGluZyBwdWJsaWMgcGxheWxpc3RzIGlzIGdyYW50ZWRcbiAgICAgICAgICBhdXRvbWF0aWNhbGx5IHdoZW4gb2J0YWluaW5nIGFuIGFjY2VzcyB0b2tlbiB0aHJvdWdoXG4gICAgICAgICAgdGhlIHVzZXIgbG9naW4gZm9ybVxuICAgICAgICAgICovXG4gICAgICAgICdwbGF5bGlzdC1yZWFkLXByaXZhdGUnLFxuICAgICAgICAncGxheWxpc3QtcmVhZC1jb2xsYWJvcmF0aXZlJyxcbiAgICAgICAgJ3BsYXlsaXN0LW1vZGlmeS1wdWJsaWMnLFxuICAgICAgICAncGxheWxpc3QtbW9kaWZ5LXByaXZhdGUnLFxuICAgICAgICAndXNlci1saWJyYXJ5LXJlYWQnLFxuICAgICAgICAndXNlci1saWJyYXJ5LW1vZGlmeSdcbiAgICAgIF1cbiAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgb25Ub2tlblJlY2VpdmVkKHRva2VuKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9KTtcbiAgICAvLyB9KTtcblxuICAgIGZ1bmN0aW9uIGZldGNoVXNlck93bmVkUGxheWxpc3RzKHVzZXIpIHtcbiAgICAgIHJldHVybiBwcm9taXNlc0ZvclBhZ2VzKGFwaS5nZXRVc2VyUGxheWxpc3RzKHVzZXIsIHsgbGltaXQ6IDUwIH0pKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihwYWdlcykge1xuICAgICAgICAgIC8vIGNvbWJpbmUgYW5kIGZpbHRlciBwbGF5bGlzdHNcbiAgICAgICAgICB2YXIgdXNlck93bmVkUGxheWxpc3RzID0gW107XG4gICAgICAgICAgcGFnZXMuZm9yRWFjaChmdW5jdGlvbihwYWdlKSB7XG4gICAgICAgICAgICB1c2VyT3duZWRQbGF5bGlzdHMgPSB1c2VyT3duZWRQbGF5bGlzdHMuY29uY2F0KFxuICAgICAgICAgICAgICBwYWdlLml0ZW1zLmZpbHRlcihmdW5jdGlvbihwbGF5bGlzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5bGlzdC5vd25lci5pZCA9PT0gdXNlcjtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHVzZXJPd25lZFBsYXlsaXN0cztcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblBsYXlsaXN0UHJvY2Vzc2VkKHBsYXlsaXN0KSB7XG4gICAgICBwbGF5bGlzdC5wcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IGFwcC50b1Byb2Nlc3MgLSAxO1xuICAgICAgYXBwLnRvUHJvY2VzcyAtPSAxO1xuICAgICAgaWYgKHJlbWFpbmluZyA9PT0gMCAmJiB3aW5kb3cuZ2EpIHtcbiAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnc3BvdGlmeS1kZWR1cCcsICdsaWJyYXJ5LXByb2Nlc3NlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBsYXlsaXN0VG9QbGF5bGlzdE1vZGVsID0gcGxheWxpc3QgPT4gKHtcbiAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdCxcbiAgICAgIGR1cGxpY2F0ZXM6IFtdLFxuICAgICAgc3RhdHVzOiAnJyxcbiAgICAgIHByb2Nlc3NlZDogZmFsc2VcbiAgICB9KTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIG9uVXNlckRhdGFGZXRjaGVkKGRhdGEpIHtcbiAgICAgIHZhciB1c2VyID0gZGF0YS5pZCxcbiAgICAgICAgcGxheWxpc3RzVG9DaGVjayA9IFtdO1xuXG4gICAgICBjb25zdCBvd25lZFBsYXlsaXN0cyA9IGF3YWl0IGZldGNoVXNlck93bmVkUGxheWxpc3RzKHVzZXIpO1xuICAgICAgcGxheWxpc3RzVG9DaGVjayA9IG93bmVkUGxheWxpc3RzO1xuICAgICAgYXBwLnBsYXlsaXN0cyA9IHBsYXlsaXN0c1RvQ2hlY2subWFwKHAgPT4gcGxheWxpc3RUb1BsYXlsaXN0TW9kZWwocCkpO1xuICAgICAgYXBwLnRvUHJvY2VzcyA9IGFwcC5wbGF5bGlzdHMubGVuZ3RoICsgMSAvKiBzYXZlZCB0cmFja3MgKi87XG4gICAgICBjb25zdCBzYXZlZFRyYWNrcyA9IGF3YWl0IHNhdmVkVHJhY2tzRGVkdXBsaWNhdG9yLmdldFRyYWNrcyhcbiAgICAgICAgYXBpLmdldE15U2F2ZWRUcmFja3MoeyBsaW1pdDogNTAgfSlcbiAgICAgICk7XG4gICAgICBhcHAuc2F2ZWRUcmFja3MuZHVwbGljYXRlcyA9IHNhdmVkVHJhY2tzRGVkdXBsaWNhdG9yLmZpbmREdXBsaWNhdGVkVHJhY2tzKFxuICAgICAgICBzYXZlZFRyYWNrc1xuICAgICAgKTtcbiAgICAgIGlmIChhcHAuc2F2ZWRUcmFja3MuZHVwbGljYXRlcy5sZW5ndGggJiYgd2luZG93LmdhKSB7XG4gICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ3Nwb3RpZnktZGVkdXAnLCAnc2F2ZWQtdHJhY2tzLWZvdW5kLWR1cGxpY2F0ZXMnKTtcbiAgICAgIH1cbiAgICAgIGFwcC50b1Byb2Nlc3MtLTtcblxuICAgICAgYXBwLnBsYXlsaXN0cy5mb3JFYWNoKHBsYXlsaXN0TW9kZWwgPT5cbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBpZiAocGxheWxpc3RDYWNoZS5uZWVkc0NoZWNrRm9yRHVwbGljYXRlcyhwbGF5bGlzdE1vZGVsLnBsYXlsaXN0KSkge1xuICAgICAgICAgICAgY29uc3QgcGxheWxpc3RUcmFja3MgPSBhd2FpdCBwbGF5bGlzdERlZHVwbGljYXRvci5nZXRUcmFja3MoXG4gICAgICAgICAgICAgIHBsYXlsaXN0TW9kZWwucGxheWxpc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwbGF5bGlzdE1vZGVsLmR1cGxpY2F0ZXMgPSBwbGF5bGlzdERlZHVwbGljYXRvci5maW5kRHVwbGljYXRlZFRyYWNrcyhcbiAgICAgICAgICAgICAgcGxheWxpc3RUcmFja3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocGxheWxpc3RNb2RlbC5kdXBsaWNhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBwbGF5bGlzdENhY2hlLnN0b3JlUGxheWxpc3RXaXRob3V0RHVwbGljYXRlcyhcbiAgICAgICAgICAgICAgICBwbGF5bGlzdE1vZGVsLnBsYXlsaXN0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG9uUGxheWxpc3RQcm9jZXNzZWQocGxheWxpc3RNb2RlbC5wbGF5bGlzdCk7XG4gICAgICAgIH0pKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub2tlblJlY2VpdmVkKGFjY2Vzc1Rva2VuKSB7XG4gICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XG4gICAgICBhcGkgPSBuZXcgU3BvdGlmeVdlYkFwaSgpO1xuICAgICAgYXBpLnNldEFjY2Vzc1Rva2VuKGFjY2Vzc1Rva2VuKTtcblxuICAgICAgcGxheWxpc3REZWR1cGxpY2F0b3IgPSBuZXcgUGxheWxpc3REZWR1cGxpY2F0b3IoYXBpKTtcbiAgICAgIHNhdmVkVHJhY2tzRGVkdXBsaWNhdG9yID0gbmV3IFNhdmVkVHJhY2tzRGVkdXBsaWNhdG9yKGFwaSk7XG5cbiAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICBjb25zdCBsb2dpbkZ1bmN0aW9uID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXBpLmdldE1lKCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIHdpbmRvdy5SYXZlbiAmJlxuICAgICAgICAgICAgICBSYXZlbi5jYXB0dXJlTWVzc2FnZShgUmV0cnlpbmcgbG9nZ2luZyB1c2VyIGluYCwge1xuICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICBhdHRlbXB0czogYXR0ZW1wdHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbG9naW5GdW5jdGlvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBhd2FpdCBvblVzZXJEYXRhRmV0Y2hlZChkYXRhKTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBsb2dpbkZ1bmN0aW9uKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJvbWlzZXNGb3JQYWdlcyhpbml0aWFsUmVxdWVzdCkge1xuICAgICAgY29uc29sZS5sb2coJ3Byb21pc2VzRm9yUGFnZXMhJyk7XG4gICAgICBmdW5jdGlvbiBzdHJpcFBhcmFtZXRlcnMoaHJlZikge1xuICAgICAgICB2YXIgdSA9IG5ldyBVUkwoaHJlZik7XG4gICAgICAgIHJldHVybiB1Lm9yaWdpbiArIHUucGF0aG5hbWU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoR2VuZXJpYyhyZXN1bHRzLCBvZmZzZXQsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiBhcGkuZ2V0R2VuZXJpYyhcbiAgICAgICAgICBzdHJpcFBhcmFtZXRlcnMocmVzdWx0cy5ocmVmKSArXG4gICAgICAgICAgICAnP29mZnNldD0nICtcbiAgICAgICAgICAgIG9mZnNldCArXG4gICAgICAgICAgICAnJmxpbWl0PScgK1xuICAgICAgICAgICAgbGltaXRcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coaW5pdGlhbFJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGluaXRpYWxSZXF1ZXN0O1xuICAgICAgY29uc29sZS5sb2coJ2dvdCBpbml0aWFsIHJlcXVlc3QnLCByZXN1bHRzKTtcbiAgICAgIGlmIChyZXN1bHRzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb21pc2VzID0gWygpID0+IGluaXRpYWxSZXF1ZXN0XTtcbiAgICAgIGxldCBvZmZzZXQgPSByZXN1bHRzLmxpbWl0ICsgcmVzdWx0cy5vZmZzZXQ7XG4gICAgICBjb25zdCBsaW1pdCA9IHJlc3VsdHMubGltaXQ7XG4gICAgICB3aGlsZSAocmVzdWx0cy50b3RhbCA+IG9mZnNldCkge1xuICAgICAgICAoZnVuY3Rpb24ocmVzdWx0cywgb2Zmc2V0LCBsaW1pdCkge1xuICAgICAgICAgIGNvbnN0IHEgPSAoKSA9PiBmZXRjaEdlbmVyaWMocmVzdWx0cywgb2Zmc2V0LCBsaW1pdCk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChxKTtcbiAgICAgICAgfSkocmVzdWx0cywgb2Zmc2V0LCBsaW1pdCk7XG4gICAgICAgIG9mZnNldCArPSBsaW1pdDtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2cocHJvbWlzZXNbMF0oKSk7XG4gICAgICByZXR1cm4gcHJvbWlzZXMucmVkdWNlKFxuICAgICAgICAocHJvbWlzZSwgZnVuYykgPT5cbiAgICAgICAgICBwcm9taXNlLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdleGVjdXRpbmcnLCBmdW5jKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jKCkudGhlbihBcnJheS5wcm90b3R5cGUuY29uY2F0LmJpbmQocmVzdWx0KSk7XG4gICAgICAgICAgfSksXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShbXSlcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn07XG5cbndpbmRvdy5SYXZlbiAmJlxuICBSYXZlbi5jb25maWcoXG4gICAgJ2h0dHBzOi8vMjJjYmFjMjk5Y2FmNDk2MmI3NGRlMThiYzg3YThkNzRAc2VudHJ5LmlvLzEyMzkxMjMnXG4gICkuaW5zdGFsbCgpO1xuXG5pZiAod2luZG93LlJhdmVuKSB7XG4gIFJhdmVuLmNvbnRleHQoaW5pdCk7XG59IGVsc2Uge1xuICBpbml0KCk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmYXZpY29uLmljb1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInBsYWNlaG9sZGVyLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXNjYXBlKHVybCkge1xuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdXJsXG4gICAgfVxuICAgIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICAgIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgICAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICAgIH1cbiAgICAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gICAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcbiAgICBpZiAoL1tcIicoKSBcXHRcXG5dLy50ZXN0KHVybCkpIHtcbiAgICAgICAgcmV0dXJuICdcIicgKyB1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKSArICdcIidcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsXG59XG4iLCJ2YXIgZXNjYXBlID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi91cmwvZXNjYXBlLmpzXCIpO1xuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYnJvd3NlaGFwcHkge1xcbiAgbWFyZ2luOiAwLjJlbSAwO1xcbiAgYmFja2dyb3VuZDogI2NjYztcXG4gIGNvbG9yOiAjMDAwO1xcbiAgcGFkZGluZzogMC4yZW0gMDtcXG59XFxuXFxuLyogRXZlcnl0aGluZyBidXQgdGhlIGp1bWJvdHJvbiBnZXRzIHNpZGUgc3BhY2luZyBmb3IgbW9iaWxlIGZpcnN0IHZpZXdzICovXFxuLmhlYWRlcixcXG4ubWFya2V0aW5nLFxcbi5mb290ZXIge1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgcGFkZGluZy1yaWdodDogMTVweDtcXG59XFxuXFxuLyogQ3VzdG9tIHBhZ2UgaGVhZGVyICovXFxuLmhlYWRlciB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTVlNTtcXG59XFxuXFxuLyogTWFrZSB0aGUgbWFzdGhlYWQgaGVhZGluZyB0aGUgc2FtZSBoZWlnaHQgYXMgdGhlIG5hdmlnYXRpb24gKi9cXG4uaGVhZGVyIGgzIHtcXG4gIG1hcmdpbi10b3A6IDA7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgbGluZS1oZWlnaHQ6IDQwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTlweDtcXG59XFxuXFxuLyogQ3VzdG9tIHBhZ2UgZm9vdGVyICovXFxuLmZvb3RlciB7XFxuICBwYWRkaW5nLXRvcDogMTlweDtcXG4gIGNvbG9yOiAjNzc3O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU1ZTU7XFxufVxcblxcbi8qIE1haW4gbWFya2V0aW5nIG1lc3NhZ2UgYW5kIHNpZ24gdXAgYnV0dG9uICovXFxuLmp1bWJvdHJvbiB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTVlNTtcXG59XFxuXFxuLmp1bWJvdHJvbiAuYnRuIHtcXG4gIGZvbnQtc2l6ZTogMjFweDtcXG4gIHBhZGRpbmc6IDE0cHggMjRweDtcXG59XFxuXFxuLyogU3VwcG9ydGluZyBtYXJrZXRpbmcgY29udGVudCAqL1xcbi5tYXJrZXRpbmcge1xcbiAgbWFyZ2luOiA0MHB4IDA7XFxufVxcblxcbi8qIFJlc3BvbnNpdmU6IFBvcnRyYWl0IHRhYmxldHMgYW5kIHVwICovXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHtcXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDczMHB4O1xcbiAgfVxcblxcbiAgLyogUmVtb3ZlIHRoZSBwYWRkaW5nIHdlIHNldCBlYXJsaWVyICovXFxuICAuaGVhZGVyLFxcbiAgLm1hcmtldGluZyxcXG4gIC5mb290ZXIge1xcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDA7XFxuICB9XFxuXFxuICAvKiBTcGFjZSBvdXQgdGhlIG1hc3RoZWFkICovXFxuICAuaGVhZGVyIHtcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG4gIH1cXG5cXG4gIC8qIFJlbW92ZSB0aGUgYm90dG9tIGJvcmRlciBvbiB0aGUganVtYm90cm9uIGZvciB2aXN1YWwgZWZmZWN0ICovXFxuICAuanVtYm90cm9uIHtcXG4gICAgYm9yZGVyLWJvdHRvbTogMDtcXG4gIH1cXG59XFxuXFxuLmZvb3RlciB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmgxLFxcbmgyLFxcbmgzLFxcbmg0LFxcbmg1LFxcbmg2LFxcbi5oMSxcXG4uaDIsXFxuLmgzLFxcbi5oNCxcXG4uaDUsXFxuLmg2IHtcXG4gIGZvbnQtZmFtaWx5OiAnUHJveGltYSBOb3ZhJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtd2VpZ2h0OiA4MDA7XFxufVxcblxcbi5qdW1ib3Ryb24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcblxcbi5wbGF5bGlzdHMtbGlzdCB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxuLnBsYXlsaXN0cy1saXN0LWl0ZW0ge1xcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcXG59XFxuXFxuLnBsYXlsaXN0cy1saXN0LWl0ZW1fX2ltZyB7XFxuICB3aWR0aDogMTAwcHg7XFxufVxcblxcbi5wbGF5bGlzdHMtbGlzdC1pdGVtX19wbGFjZWhvbGRlciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBlc2NhcGUocmVxdWlyZShcIi4uL3BsYWNlaG9sZGVyLnBuZ1wiKSkgKyBcIik7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgaGVpZ2h0OiAxMDBweDtcXG4gIHdpZHRoOiAxMDBweDtcXG59XFxuXFxuLnBsYXlsaXN0cy1saXN0LWl0ZW1fX25hbWUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIG1heC13aWR0aDogNTAlO1xcbn1cXG5cXG4ucGxheWxpc3QtbGlzdC1pdGVtX19idG4ge1xcbiAgbWF4LXdpZHRoOiA1MCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMDtcXG4gIHRvcDogMDtcXG59XFxuXFxuQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7XFxuICAucGxheWxpc3RzLWxpc3QtaXRlbV9fbmFtZSB7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG4gIH1cXG4gIC5wbGF5bGlzdC1saXN0LWl0ZW1fX2J0biB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgfVxcbn1cXG5cXG4ucGxheWxpc3QtbGlzdC1pdGVtX19idG46aG92ZXIge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uYnRuLXByaW1hcnkucGxheWxpc3QtbGlzdC1pdGVtX19idG46aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY5YTNkMztcXG59XFxuXFxuLmdyYXkge1xcbiAgY29sb3I6ICM5OTk7XFxufVxcblxcbi5kdXBsaWNhdGVzIHtcXG4gIG1hcmdpbi10b3A6IDFyZW07XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG4uYmQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4ubWVkaWEsXFxuLmJkIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBfb3ZlcmZsb3c6IHZpc2libGU7XFxuICB6b29tOiAxO1xcbn1cXG4ubWVkaWEgLmltZyB7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi1yaWdodDogMjBweDtcXG59XFxuXFxuQG1lZGlhIChtYXgtd2lkdGg6IDUwMHB4KSB7XFxuICAubWVkaWEgLmltZyB7XFxuICAgIGZsb2F0OiBub25lO1xcbiAgfVxcbn1cXG5cXG4ubWVkaWEgLmltZyB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vY3VzdG9tLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jdXN0b20uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jdXN0b20uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWwge1xcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICAtd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7XFxuICAtbXMtdGV4dC1zaXplLWFkanVzdDogMTAwJTtcXG59XFxuYm9keSB7XFxuICBtYXJnaW46IDA7XFxufVxcbmEge1xcbiAgYmFja2dyb3VuZDogMCAwO1xcbn1cXG5oMSB7XFxuICBtYXJnaW46IDAuNjdlbSAwO1xcbn1cXG5zdHJvbmcge1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG59XFxuaW1nIHtcXG4gIGJvcmRlcjogMDtcXG59XFxuYnV0dG9uIHtcXG4gIG1hcmdpbjogMDtcXG59XFxuYnV0dG9uIHtcXG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xcbn1cXG5idXR0b24ge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247XFxufVxcbmJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICBwYWRkaW5nOiAwO1xcbiAgYm9yZGVyOiAwO1xcbn1cXG4qLFxcbjphZnRlcixcXG46YmVmb3JlIHtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbmh0bWwge1xcbiAgZm9udC1zaXplOiA2Mi41JTtcXG59XFxuYm9keSB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMS40Mjg1NzE0Mjk7XFxuICBjb2xvcjogIzMzMztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxufVxcbmJ1dHRvbiB7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xcbn1cXG5hIHtcXG4gIGNvbG9yOiAjNDI4YmNhO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5pbWcge1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuaDEsXFxuaDMsXFxuaDQge1xcbiAgbGluZS1oZWlnaHQ6IDEuMTtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbn1cXG5oMSxcXG5oMyB7XFxuICBtYXJnaW4tdG9wOiAyMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuaDQge1xcbiAgbWFyZ2luLXRvcDogMTBweDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcbmgxIHtcXG4gIGZvbnQtc2l6ZTogMzZweDtcXG59XFxuaDMge1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbn1cXG5oNCB7XFxuICBmb250LXNpemU6IDE4cHg7XFxufVxcbnAge1xcbiAgbWFyZ2luOiAwIDAgMTBweDtcXG59XFxuLmxlYWQge1xcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGZvbnQtd2VpZ2h0OiAyMDA7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcXG4gIC5sZWFkIHtcXG4gICAgZm9udC1zaXplOiAyMXB4O1xcbiAgfVxcbn1cXG4udGV4dC1tdXRlZCB7XFxuICBjb2xvcjogIzk5OTtcXG59XFxudWwge1xcbiAgbWFyZ2luLXRvcDogMDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcbi5jb250YWluZXIge1xcbiAgcGFkZGluZy1yaWdodDogMTVweDtcXG4gIHBhZGRpbmctbGVmdDogMTVweDtcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbn1cXG4uY29udGFpbmVyOmFmdGVyLFxcbi5jb250YWluZXI6YmVmb3JlIHtcXG4gIGRpc3BsYXk6IHRhYmxlO1xcbiAgY29udGVudDogJyAnO1xcbn1cXG4uY29udGFpbmVyOmFmdGVyIHtcXG4gIGNsZWFyOiBib3RoO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcXG4gIC5jb250YWluZXIge1xcbiAgICB3aWR0aDogNzUwcHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiA5OTJweCkge1xcbiAgLmNvbnRhaW5lciB7XFxuICAgIHdpZHRoOiA5NzBweDtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDEyMDBweCkge1xcbiAgLmNvbnRhaW5lciB7XFxuICAgIHdpZHRoOiAxMTcwcHg7XFxuICB9XFxufVxcbi5yb3cge1xcbiAgbWFyZ2luLXJpZ2h0OiAtMTVweDtcXG4gIG1hcmdpbi1sZWZ0OiAtMTVweDtcXG59XFxuLnJvdzphZnRlcixcXG4ucm93OmJlZm9yZSB7XFxuICBkaXNwbGF5OiB0YWJsZTtcXG4gIGNvbnRlbnQ6ICcgJztcXG59XFxuLnJvdzphZnRlciB7XFxuICBjbGVhcjogYm90aDtcXG59XFxuLmNvbC1sZy0xMixcXG4uY29sLWxnLTQsXFxuLmNvbC1tZC00LFxcbi5jb2wtc20tNCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtaW4taGVpZ2h0OiAxcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcXG4gIC5jb2wtc20tNCB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbiAgfVxcbiAgLmNvbC1zbS00IHtcXG4gICAgd2lkdGg6IDMzLjMzMzMzMzMzMzMzMzMzJTtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDk5MnB4KSB7XFxuICAuY29sLW1kLTQge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gIH1cXG4gIC5jb2wtbWQtNCB7XFxuICAgIHdpZHRoOiAzMy4zMzMzMzMzMzMzMzMzMyU7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAxMjAwcHgpIHtcXG4gIC5jb2wtbGctMTIsXFxuICAuY29sLWxnLTQge1xcbiAgICBmbG9hdDogbGVmdDtcXG4gIH1cXG4gIC5jb2wtbGctMTIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gIH1cXG4gIC5jb2wtbGctNCB7XFxuICAgIHdpZHRoOiAzMy4zMzMzMzMzMzMzMzMzMyU7XFxuICB9XFxufVxcbi5idG4ge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcGFkZGluZzogNnB4IDEycHg7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQyODU3MTQyOTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbn1cXG4uYnRuLXN1Y2Nlc3Mge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWNiODVjO1xcbiAgYm9yZGVyLWNvbG9yOiAjNGNhZTRjO1xcbn1cXG4uYnRuLWxnIHtcXG4gIHBhZGRpbmc6IDEwcHggMTZweDtcXG4gIGZvbnQtc2l6ZTogMThweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjMzO1xcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xcbn1cXG4uYnRuLXByaW1hcnkge1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDI4YmNhO1xcbiAgYm9yZGVyLWNvbG9yOiAjMzU3ZWJkO1xcbn1cXG4uYnRuLXhzIHtcXG4gIHBhZGRpbmc6IDFweCA1cHg7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBsaW5lLWhlaWdodDogMS41O1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG4ubmF2IHtcXG4gIHBhZGRpbmctbGVmdDogMDtcXG4gIG1hcmdpbi1ib3R0b206IDA7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbn1cXG4ubmF2OmFmdGVyLFxcbi5uYXY6YmVmb3JlIHtcXG4gIGRpc3BsYXk6IHRhYmxlO1xcbiAgY29udGVudDogJyAnO1xcbn1cXG4ubmF2OmFmdGVyIHtcXG4gIGNsZWFyOiBib3RoO1xcbn1cXG4ubmF2ID4gbGkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5uYXYgPiBsaSA+IGEge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwYWRkaW5nOiAxMHB4IDE1cHg7XFxufVxcbi5uYXYtcGlsbHMgPiBsaSB7XFxuICBmbG9hdDogbGVmdDtcXG59XFxuLm5hdi1waWxscyA+IGxpID4gYSB7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxufVxcbi5sYWJlbCB7XFxuICBkaXNwbGF5OiBpbmxpbmU7XFxuICBwYWRkaW5nOiAwLjJlbSAwLjZlbSAwLjNlbTtcXG4gIGZvbnQtc2l6ZTogNzUlO1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgY29sb3I6ICNmZmY7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcbiAgYm9yZGVyLXJhZGl1czogMC4yNWVtO1xcbn1cXG4ubGFiZWw6ZW1wdHkge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmxhYmVsLXN1Y2Nlc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzVjYjg1YztcXG59XFxuLmJhZGdlIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIG1pbi13aWR0aDogMTBweDtcXG4gIHBhZGRpbmc6IDNweCA3cHg7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBjb2xvcjogI2ZmZjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5O1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG59XFxuLmp1bWJvdHJvbiB7XFxuICBwYWRkaW5nOiAzMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG4gIGZvbnQtc2l6ZTogMjFweDtcXG4gIGZvbnQtd2VpZ2h0OiAyMDA7XFxuICBsaW5lLWhlaWdodDogMi4xNDI4NTcxNDM1O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxufVxcbi5qdW1ib3Ryb24gaDEge1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBjb2xvcjogaW5oZXJpdDtcXG59XFxuLmp1bWJvdHJvbiBwIHtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XFxufVxcbi5jb250YWluZXIgLmp1bWJvdHJvbiB7XFxuICBib3JkZXItcmFkaXVzOiA2cHg7XFxufVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XFxuICAuanVtYm90cm9uIHtcXG4gICAgcGFkZGluZy10b3A6IDQ4cHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiA0OHB4O1xcbiAgfVxcbiAgLmNvbnRhaW5lciAuanVtYm90cm9uIHtcXG4gICAgcGFkZGluZy1yaWdodDogNjBweDtcXG4gICAgcGFkZGluZy1sZWZ0OiA2MHB4O1xcbiAgfVxcbiAgLmp1bWJvdHJvbiBoMSB7XFxuICAgIGZvbnQtc2l6ZTogNjNweDtcXG4gIH1cXG59XFxuLnBhbmVsIHtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xcbiAgYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XFxufVxcbi5wYW5lbC1ib2R5IHtcXG4gIHBhZGRpbmc6IDE1cHg7XFxufVxcbi5wYW5lbC1ib2R5OmFmdGVyLFxcbi5wYW5lbC1ib2R5OmJlZm9yZSB7XFxuICBkaXNwbGF5OiB0YWJsZTtcXG4gIGNvbnRlbnQ6ICcgJztcXG59XFxuLnBhbmVsLWJvZHk6YWZ0ZXIge1xcbiAgY2xlYXI6IGJvdGg7XFxufVxcbi5wYW5lbC1kZWZhdWx0IHtcXG4gIGJvcmRlci1jb2xvcjogI2RkZDtcXG59XFxuLnB1bGwtcmlnaHQge1xcbiAgZmxvYXQ6IHJpZ2h0ICFpbXBvcnRhbnQ7XFxufVxcbkAtbXMtdmlld3BvcnQge1xcbiAgd2lkdGg6IGRldmljZS13aWR0aDtcXG59XFxuYm9keSB7XFxuICBwYWRkaW5nLXRvcDogMjBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xcbn1cXG4uaGVhZGVyLFxcbi5tYXJrZXRpbmcge1xcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgcGFkZGluZy1yaWdodDogMTVweDtcXG59XFxuLmhlYWRlciB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTVlNTtcXG59XFxuLmhlYWRlciBoMyB7XFxuICBtYXJnaW4tdG9wOiAwO1xcbiAgbWFyZ2luLWJvdHRvbTogMDtcXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDE5cHg7XFxufVxcbi5qdW1ib3Ryb24ge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNWU1ZTU7XFxufVxcbi5qdW1ib3Ryb24gLmJ0biB7XFxuICBmb250LXNpemU6IDIxcHg7XFxuICBwYWRkaW5nOiAxNHB4IDI0cHg7XFxufVxcbi5tYXJrZXRpbmcge1xcbiAgbWFyZ2luOiA0MHB4IDA7XFxufVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XFxuICAuY29udGFpbmVyIHtcXG4gICAgbWF4LXdpZHRoOiA3MzBweDtcXG4gIH1cXG4gIC5oZWFkZXIsXFxuICAubWFya2V0aW5nIHtcXG4gICAgcGFkZGluZy1sZWZ0OiAwO1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xcbiAgfVxcbiAgLmhlYWRlciB7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICB9XFxuICAuanVtYm90cm9uIHtcXG4gICAgYm9yZGVyLWJvdHRvbTogMDtcXG4gIH1cXG59XFxuYm9keSB7XFxuICBmb250LWZhbWlseTogJ1Byb3hpbWEgTm92YScsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxufVxcbmgxLFxcbmgzLFxcbmg0IHtcXG4gIGZvbnQtZmFtaWx5OiAnUHJveGltYSBOb3ZhJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtd2VpZ2h0OiA4MDA7XFxufVxcbi5qdW1ib3Ryb24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYWluLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8qIGV4cG9ydGVkIFByb21pc2VUaHJvdHRsZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBIHNldCBvcCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHRocm90dGxlIGZ1bmN0aW9uXG4gKiAgICAgICAgQHBhcmFtIHtudW1iZXJ9IHJlcXVlc3RzUGVyU2Vjb25kIFRoZSBhbW91bnQgb2YgcmVxdWVzdHMgcGVyIHNlY29uZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgbGlicmFyeSB3aWxsIGxpbWl0IHRvXG4gKi9cbmZ1bmN0aW9uIFByb21pc2VUaHJvdHRsZShvcHRpb25zKSB7XG4gIHRoaXMucmVxdWVzdHNQZXJTZWNvbmQgPSBvcHRpb25zLnJlcXVlc3RzUGVyU2Vjb25kO1xuICB0aGlzLnByb21pc2VJbXBsZW1lbnRhdGlvbiA9IG9wdGlvbnMucHJvbWlzZUltcGxlbWVudGF0aW9uIHx8IFByb21pc2U7XG4gIHRoaXMubGFzdFN0YXJ0VGltZSA9IDA7XG4gIHRoaXMucXVldWVkID0gW107XG59XG5cbi8qKlxuICogQWRkcyBhIHByb21pc2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb21pc2UgQSBmdW5jdGlvbiByZXR1cm5pbmcgdGhlIHByb21pc2UgdG8gYmUgYWRkZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEEgc2V0IG9mIG9wdGlvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53ZWlnaHQgQSBcIndlaWdodFwiIG9mIGVhY2ggb3BlcmF0aW9uIHJlc29sdmluZyBieSBhcnJheSBvZiBwcm9taXNlc1xuICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlXG4gKi9cblByb21pc2VUaHJvdHRsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ocHJvbWlzZSwgb3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBvcHQgPSBvcHRpb25zIHx8IHt9O1xuICByZXR1cm4gbmV3IHNlbGYucHJvbWlzZUltcGxlbWVudGF0aW9uKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHNlbGYucXVldWVkLnB1c2goe1xuICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgIHdlaWdodDogb3B0LndlaWdodCB8fCAxLFxuICAgICAgc2lnbmFsOiBvcHQuc2lnbmFsXG4gICAgfSk7XG5cbiAgICBzZWxmLmRlcXVldWUoKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFkZHMgYWxsIHRoZSBwcm9taXNlcyBwYXNzZWQgYXMgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvbWlzZXMgQW4gYXJyYXkgb2YgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGEgcHJvbWlzZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQSBzZXQgb2Ygb3B0aW9ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndlaWdodCBBIFwid2VpZ2h0XCIgb2YgZWFjaCBvcGVyYXRpb24gcmVzb2x2aW5nIGJ5IGFycmF5IG9mIHByb21pc2VzXG4gKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCBzdWNjZWVkcyB3aGVuIGFsbCB0aGUgcHJvbWlzZXMgcGFzc2VkIGFzIG9wdGlvbnMgZG9cbiAqL1xuUHJvbWlzZVRocm90dGxlLnByb3RvdHlwZS5hZGRBbGwgPSBmdW5jdGlvbihwcm9taXNlcywgb3B0aW9ucykge1xuICB2YXIgYWRkZWRQcm9taXNlcyA9IHByb21pc2VzLm1hcChmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKHByb21pc2UsIG9wdGlvbnMpO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIHJldHVybiBQcm9taXNlLmFsbChhZGRlZFByb21pc2VzKTtcbn07XG5cbi8qKlxuICogRGVxdWV1ZXMgYSBwcm9taXNlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5Qcm9taXNlVGhyb3R0bGUucHJvdG90eXBlLmRlcXVldWUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMucXVldWVkLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKSxcbiAgICAgIHdlaWdodCA9IHRoaXMucXVldWVkWzBdLndlaWdodCxcbiAgICAgIGluYyA9ICgxMDAwIC8gdGhpcy5yZXF1ZXN0c1BlclNlY29uZCkgKiB3ZWlnaHQsXG4gICAgICBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0U3RhcnRUaW1lO1xuXG4gICAgaWYgKGVsYXBzZWQgPj0gaW5jKSB7XG4gICAgICB0aGlzLl9leGVjdXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHdlIGhhdmUgcmVhY2hlZCB0aGUgbGltaXQsIHNjaGVkdWxlIGEgZGVxdWV1ZSBvcGVyYXRpb25cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGVxdWV1ZSgpO1xuICAgICAgfS5iaW5kKHRoaXMpLCBpbmMgLSBlbGFwc2VkKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHByb21pc2VcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5Qcm9taXNlVGhyb3R0bGUucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGFzdFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gIHZhciBjYW5kaWRhdGUgPSB0aGlzLnF1ZXVlZC5zaGlmdCgpO1xuICB2YXIgYWJvcnRlZCA9IGNhbmRpZGF0ZS5zaWduYWwgJiYgY2FuZGlkYXRlLnNpZ25hbC5hYm9ydGVkO1xuICBpZiAoYWJvcnRlZCkge1xuICAgIGNhbmRpZGF0ZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbignJywgJ0Fib3J0RXJyb3InKSk7XG4gIH0gZWxzZSB7XG4gICAgY2FuZGlkYXRlLnByb21pc2UoKS50aGVuKGZ1bmN0aW9uKHIpIHtcbiAgICAgIGNhbmRpZGF0ZS5yZXNvbHZlKHIpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHIpIHtcbiAgICAgIGNhbmRpZGF0ZS5yZWplY3Qocik7XG4gICAgfSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZVRocm90dGxlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==